<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CS318 - Pintos: src/tests/vm/page-merge-seq.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CS318 - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for JHU CS318 course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d93a1d4020dea85bb71b237545b5e722.html">tests</a></li><li class="navelem"><a class="el" href="dir_d64ac09503a5bcfb4583cb0e839d83b0.html">vm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">page-merge-seq.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;syscall.h&gt;</code><br />
<code>#include &quot;<a class="el" href="arc4_8h_source.html">tests/arc4.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lib_8h_source.html">tests/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">tests/main.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for page-merge-seq.c:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c__incl.png" border="0" usemap="#src_2tests_2vm_2page-merge-seq_8c" alt=""/></div>
<map name="src_2tests_2vm_2page-merge-seq_8c" id="src_2tests_2vm_2page-merge-seq_8c">
<area shape="rect" title=" " alt="" coords="169,5,338,44"/>
<area shape="rect" title=" " alt="" coords="187,165,259,191"/>
<area shape="rect" href="arc4_8h.html" title=" " alt="" coords="83,92,173,117"/>
<area shape="rect" href="lib_8h.html" title=" " alt="" coords="253,92,331,117"/>
<area shape="rect" href="main_8h.html" title=" " alt="" coords="355,92,448,117"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="94,165,163,191"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="5,165,70,191"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="381,165,451,191"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="282,165,358,191"/>
</map>
</div>
</div>
<p><a href="page-merge-seq_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aea3cfda4f3a9f978ec759f206cf186fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#aea3cfda4f3a9f978ec759f206cf186fe">CHUNK_SIZE</a>&#160;&#160;&#160;(126 * 512)</td></tr>
<tr class="memdesc:aea3cfda4f3a9f978ec759f206cf186fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates about 1 MB of random data that is then divided into 16 chunks.  <a href="page-merge-seq_8c.html#aea3cfda4f3a9f978ec759f206cf186fe">More...</a><br /></td></tr>
<tr class="separator:aea3cfda4f3a9f978ec759f206cf186fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fac722d72bce7d004932e2a07e2fb8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#af1fac722d72bce7d004932e2a07e2fb8">CHUNK_CNT</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:af1fac722d72bce7d004932e2a07e2fb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of chunks.  <a href="page-merge-seq_8c.html#af1fac722d72bce7d004932e2a07e2fb8">More...</a><br /></td></tr>
<tr class="separator:af1fac722d72bce7d004932e2a07e2fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55149bc1f05cf18af067a302e31e3f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#af55149bc1f05cf18af067a302e31e3f9">DATA_SIZE</a>&#160;&#160;&#160;(<a class="el" href="parallel-merge_8c.html#af1fac722d72bce7d004932e2a07e2fb8">CHUNK_CNT</a> * <a class="el" href="parallel-merge_8c.html#aea3cfda4f3a9f978ec759f206cf186fe">CHUNK_SIZE</a>)</td></tr>
<tr class="memdesc:af55149bc1f05cf18af067a302e31e3f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size.  <a href="page-merge-seq_8c.html#af55149bc1f05cf18af067a302e31e3f9">More...</a><br /></td></tr>
<tr class="separator:af55149bc1f05cf18af067a302e31e3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a17fb021b480a1f220d2579807fa2e398"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#a17fb021b480a1f220d2579807fa2e398">init</a> (void)</td></tr>
<tr class="memdesc:a17fb021b480a1f220d2579807fa2e398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize buf1 with random data, then count the number of instances of each value within it.  <a href="page-merge-seq_8c.html#a17fb021b480a1f220d2579807fa2e398">More...</a><br /></td></tr>
<tr class="separator:a17fb021b480a1f220d2579807fa2e398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e97d47c126cfbe7372e4b0269720b4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#a44e97d47c126cfbe7372e4b0269720b4">sort_chunks</a> (void)</td></tr>
<tr class="memdesc:a44e97d47c126cfbe7372e4b0269720b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort each chunk of buf1 using a subprocess.  <a href="page-merge-seq_8c.html#a44e97d47c126cfbe7372e4b0269720b4">More...</a><br /></td></tr>
<tr class="separator:a44e97d47c126cfbe7372e4b0269720b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a657753d621e391b948de553de0bff48d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#a657753d621e391b948de553de0bff48d">merge</a> (void)</td></tr>
<tr class="memdesc:a657753d621e391b948de553de0bff48d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge the sorted chunks in buf1 into a fully sorted buf2.  <a href="page-merge-seq_8c.html#a657753d621e391b948de553de0bff48d">More...</a><br /></td></tr>
<tr class="separator:a657753d621e391b948de553de0bff48d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918b046cec37d7261c86402686859e9a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#a918b046cec37d7261c86402686859e9a">verify</a> (void)</td></tr>
<tr class="separator:a918b046cec37d7261c86402686859e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4533f287d99bb2d7c24c0e29c9a449"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449">test_main</a> (void)</td></tr>
<tr class="memdesc:a8a4533f287d99bb2d7c24c0e29c9a449"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="main_8h.html">tests/main.h</a>  <a href="page-merge-seq_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449">More...</a><br /></td></tr>
<tr class="separator:a8a4533f287d99bb2d7c24c0e29c9a449"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae472cad57041513da9087fb3ade4818f"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#ae472cad57041513da9087fb3ade4818f">buf1</a> [<a class="el" href="parallel-merge_8c.html#af55149bc1f05cf18af067a302e31e3f9">DATA_SIZE</a>]</td></tr>
<tr class="separator:ae472cad57041513da9087fb3ade4818f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3916e439b413433cebbba25620608ada"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#a3916e439b413433cebbba25620608ada">buf2</a> [<a class="el" href="parallel-merge_8c.html#af55149bc1f05cf18af067a302e31e3f9">DATA_SIZE</a>]</td></tr>
<tr class="separator:a3916e439b413433cebbba25620608ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22de8e2d783d8f08a270783f690b1675"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page-merge-seq_8c.html#a22de8e2d783d8f08a270783f690b1675">histogram</a> [256]</td></tr>
<tr class="separator:a22de8e2d783d8f08a270783f690b1675"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af1fac722d72bce7d004932e2a07e2fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1fac722d72bce7d004932e2a07e2fb8">&#9670;&nbsp;</a></span>CHUNK_CNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHUNK_CNT&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of chunks. </p>

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00015">15</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

</div>
</div>
<a id="aea3cfda4f3a9f978ec759f206cf186fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3cfda4f3a9f978ec759f206cf186fe">&#9670;&nbsp;</a></span>CHUNK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHUNK_SIZE&#160;&#160;&#160;(126 * 512)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates about 1 MB of random data that is then divided into 16 chunks. </p>
<p>A separate subprocess sorts each chunk in sequence. Then we merge the chunks and verify that the result is what it should be. This is the max file size for an older version of the Pintos file system that had 126 direct blocks each pointing to a single disk sector. We could raise it now. </p>

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00014">14</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

</div>
</div>
<a id="af55149bc1f05cf18af067a302e31e3f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55149bc1f05cf18af067a302e31e3f9">&#9670;&nbsp;</a></span>DATA_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_SIZE&#160;&#160;&#160;(<a class="el" href="parallel-merge_8c.html#af1fac722d72bce7d004932e2a07e2fb8">CHUNK_CNT</a> * <a class="el" href="parallel-merge_8c.html#aea3cfda4f3a9f978ec759f206cf186fe">CHUNK_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer size. </p>

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00016">16</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a17fb021b480a1f220d2579807fa2e398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17fb021b480a1f220d2579807fa2e398">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize buf1 with random data, then count the number of instances of each value within it. </p>

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00024">24</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">References <a class="el" href="arc4_8c_source.html#l00035">arc4_crypt()</a>, <a class="el" href="arc4_8c_source.html#l00014">arc4_init()</a>, <a class="el" href="page-merge-seq_8c_source.html#l00018">buf1</a>, <a class="el" href="page-merge-seq_8c_source.html#l00019">histogram</a>, <a class="el" href="arc4_8h_source.html#l00011">arc4::i</a>, and <a class="el" href="lib_8c_source.html#l00028">msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="page-merge-seq_8c_source.html#l00131">test_main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_cgraph.png" border="0" usemap="#page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_cgraph" alt=""/></div>
<map name="page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_cgraph" id="page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_cgraph">
<area shape="rect" title="Initialize buf1 with random data, then count the number of instances of each value within it." alt="" coords="5,55,44,80"/>
<area shape="rect" href="arc4_8c.html#aa011f20a5ca1a0801254678018a5f5b6" title="tests/arc4.h" alt="" coords="92,5,176,31"/>
<area shape="rect" href="arc4_8c.html#a139c7d825f6d83f041e4068bf107fbfa" title=" " alt="" coords="98,55,170,80"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="111,104,157,129"/>
<area shape="rect" href="arc4_8c.html#ab02e0f9a7b14140cac015a2e93b45d8b" title="Swap bytes." alt="" coords="224,31,309,56"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_icgraph.png" border="0" usemap="#page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_icgraph" alt=""/></div>
<map name="page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_icgraph" id="page-merge-seq_8c_a17fb021b480a1f220d2579807fa2e398_icgraph">
<area shape="rect" title="Initialize buf1 with random data, then count the number of instances of each value within it." alt="" coords="132,5,171,31"/>
<area shape="rect" href="page-merge-seq_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="tests/main.h" alt="" coords="5,5,84,31"/>
</map>
</div>

</div>
</div>
<a id="a657753d621e391b948de553de0bff48d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a657753d621e391b948de553de0bff48d">&#9670;&nbsp;</a></span>merge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void merge </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Merge the sorted chunks in buf1 into a fully sorted buf2. </p>

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00073">73</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">References <a class="el" href="page-merge-seq_8c_source.html#l00018">buf1</a>, <a class="el" href="page-merge-seq_8c_source.html#l00018">buf2</a>, <a class="el" href="page-merge-seq_8c_source.html#l00015">CHUNK_CNT</a>, <a class="el" href="page-merge-seq_8c_source.html#l00014">CHUNK_SIZE</a>, <a class="el" href="arc4_8h_source.html#l00011">arc4::i</a>, and <a class="el" href="lib_8c_source.html#l00028">msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="page-merge-seq_8c_source.html#l00131">test_main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a657753d621e391b948de553de0bff48d_cgraph.png" border="0" usemap="#page-merge-seq_8c_a657753d621e391b948de553de0bff48d_cgraph" alt=""/></div>
<map name="page-merge-seq_8c_a657753d621e391b948de553de0bff48d_cgraph" id="page-merge-seq_8c_a657753d621e391b948de553de0bff48d_cgraph">
<area shape="rect" title="Merge the sorted chunks in buf1 into a fully sorted buf2." alt="" coords="5,5,64,31"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="112,5,159,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a657753d621e391b948de553de0bff48d_icgraph.png" border="0" usemap="#page-merge-seq_8c_a657753d621e391b948de553de0bff48d_icgraph" alt=""/></div>
<map name="page-merge-seq_8c_a657753d621e391b948de553de0bff48d_icgraph" id="page-merge-seq_8c_a657753d621e391b948de553de0bff48d_icgraph">
<area shape="rect" title="Merge the sorted chunks in buf1 into a fully sorted buf2." alt="" coords="132,5,192,31"/>
<area shape="rect" href="page-merge-seq_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="tests/main.h" alt="" coords="5,5,84,31"/>
</map>
</div>

</div>
</div>
<a id="a44e97d47c126cfbe7372e4b0269720b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e97d47c126cfbe7372e4b0269720b4">&#9670;&nbsp;</a></span>sort_chunks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sort_chunks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sort each chunk of buf1 using a subprocess. </p>

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00039">39</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">References <a class="el" href="page-merge-seq_8c_source.html#l00018">buf1</a>, <a class="el" href="lib_8h_source.html#l00029">CHECK</a>, <a class="el" href="page-merge-seq_8c_source.html#l00015">CHUNK_CNT</a>, <a class="el" href="page-merge-seq_8c_source.html#l00014">CHUNK_SIZE</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00139">close()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00091">create()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00079">exec()</a>, <a class="el" href="arc4_8h_source.html#l00011">arc4::i</a>, <a class="el" href="lib_8c_source.html#l00028">msg()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00103">open()</a>, <a class="el" href="lib_8c_source.html#l00009">quiet</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00115">read()</a>, <a class="el" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f">wait()</a>, and <a class="el" href="lib_2user_2syscall_8c_source.html#l00121">write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="page-merge-seq_8c_source.html#l00131">test_main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_cgraph.png" border="0" usemap="#page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_cgraph" alt=""/></div>
<map name="page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_cgraph" id="page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_cgraph">
<area shape="rect" title="Sort each chunk of buf1 using a subprocess." alt="" coords="5,179,99,204"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a5bbe56a416af8f77723b652362f742f7" title=" " alt="" coords="150,5,202,31"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="147,55,205,80"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a988616aeb494987bc645f602f820f3fc" title=" " alt="" coords="151,104,200,129"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="152,153,199,179"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a703a13bc53a317ea70b87280ad3d974e" title=" " alt="" coords="150,203,201,228"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#ab0f9f22d375a9229b3c77859cf2035a0" title=" " alt="" coords="152,252,200,277"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="153,301,198,327"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="151,351,200,376"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_icgraph.png" border="0" usemap="#page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_icgraph" alt=""/></div>
<map name="page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_icgraph" id="page-merge-seq_8c_a44e97d47c126cfbe7372e4b0269720b4_icgraph">
<area shape="rect" title="Sort each chunk of buf1 using a subprocess." alt="" coords="132,5,226,31"/>
<area shape="rect" href="page-merge-seq_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="tests/main.h" alt="" coords="5,5,84,31"/>
</map>
</div>

</div>
</div>
<a id="a8a4533f287d99bb2d7c24c0e29c9a449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4533f287d99bb2d7c24c0e29c9a449">&#9670;&nbsp;</a></span>test_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="main_8h.html">tests/main.h</a> </p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>This must fail, because that directory is non-empty.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>This must fail.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>and an ordinary file in each of them, until we fill up the disk.</p>
<p>Then delete most of them, for two reasons. First, "tar" limits file names to 100 characters (which could be extended to 256 without much trouble). Second, a full disk has no room for the tar archive.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>This should terminate the process with a -1 exit code.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>Sets the stack pointer (esp) to an invalid value and invokes a system call, which should then terminate the process with a -1 exit code.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>The second close must either fail silently or terminate with exit code -1.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>This is valid, so it must succeed.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>The process must be terminated with exit code -1.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>The process must be terminated with -1 exit code.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>Must kill process.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>The exec system call must return -1.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>(Pintos does not have inheritance of file handles, so this must fail.) The parent process then attempts to use the file handle, which must succeed.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>The process must be terminated with -1 exit code because the argument to the system call would be above the top of the user address space.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>The process must be terminated with -1 exit code.</p>
<p>For Project 3: The bad address lies approximately 64MB below the code segment, so there is no ambiguity that this attempt must be rejected even after stack growth is implemented. Moreover, a good stack growth heuristics should probably not grow the stack for the purpose of reading the system call number and arguments.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>This must work.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>This may fail or terminate the process with -1 exit code.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>The first call must wait in the usual way and return the exit code. The second wait call must return -1 immediately.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>Tries to write to a mapping present in the parent. The process must be terminated with -1 exit code.</p>
<p><a class="el" href="main_8h.html">tests/main.h</a></p>
<p>Then dereferences the address that we tried to map, and the process must be terminated with -1 exit code. </p>

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00131">131</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">References <a class="el" href="page-merge-seq_8c_source.html#l00024">init()</a>, <a class="el" href="page-merge-seq_8c_source.html#l00073">merge()</a>, <a class="el" href="page-merge-seq_8c_source.html#l00039">sort_chunks()</a>, and <a class="el" href="page-merge-seq_8c_source.html#l00108">verify()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a8a4533f287d99bb2d7c24c0e29c9a449_cgraph.png" border="0" usemap="#page-merge-seq_8c_a8a4533f287d99bb2d7c24c0e29c9a449_cgraph" alt=""/></div>
<map name="page-merge-seq_8c_a8a4533f287d99bb2d7c24c0e29c9a449_cgraph" id="page-merge-seq_8c_a8a4533f287d99bb2d7c24c0e29c9a449_cgraph">
<area shape="rect" title="tests/main.h" alt="" coords="5,197,84,223"/>
<area shape="rect" href="page-merge-seq_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initialize buf1 with random data, then count the number of instances of each value within it." alt="" coords="160,87,198,112"/>
<area shape="rect" href="page-merge-seq_8c.html#a657753d621e391b948de553de0bff48d" title="Merge the sorted chunks in buf1 into a fully sorted buf2." alt="" coords="150,148,209,173"/>
<area shape="rect" href="page-merge-seq_8c.html#a44e97d47c126cfbe7372e4b0269720b4" title="Sort each chunk of buf1 using a subprocess." alt="" coords="132,221,226,247"/>
<area shape="rect" href="page-merge-seq_8c.html#a918b046cec37d7261c86402686859e9a" title=" " alt="" coords="152,271,206,296"/>
<area shape="rect" href="arc4_8c.html#aa011f20a5ca1a0801254678018a5f5b6" title="tests/arc4.h" alt="" coords="274,5,357,31"/>
<area shape="rect" href="arc4_8c.html#a139c7d825f6d83f041e4068bf107fbfa" title=" " alt="" coords="280,55,351,80"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="292,104,339,129"/>
<area shape="rect" href="arc4_8c.html#ab02e0f9a7b14140cac015a2e93b45d8b" title="Swap bytes." alt="" coords="405,31,490,56"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a5bbe56a416af8f77723b652362f742f7" title=" " alt="" coords="289,400,342,425"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="286,449,345,475"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a988616aeb494987bc645f602f820f3fc" title=" " alt="" coords="291,153,340,179"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a703a13bc53a317ea70b87280ad3d974e" title=" " alt="" coords="290,203,341,228"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#ab0f9f22d375a9229b3c77859cf2035a0" title=" " alt="" coords="291,252,339,277"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="293,301,338,327"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="291,351,340,376"/>
<area shape="rect" href="lib_8c.html#a7380daad7085b08d0e037abc3136dccd" title=" " alt="" coords="296,499,335,524"/>
</map>
</div>

</div>
</div>
<a id="a918b046cec37d7261c86402686859e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918b046cec37d7261c86402686859e9a">&#9670;&nbsp;</a></span>verify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void verify </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00108">108</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">References <a class="el" href="page-merge-seq_8c_source.html#l00018">buf2</a>, <a class="el" href="lib_8c_source.html#l00040">fail()</a>, <a class="el" href="page-merge-seq_8c_source.html#l00019">histogram</a>, and <a class="el" href="lib_8c_source.html#l00028">msg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="page-merge-seq_8c_source.html#l00131">test_main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_cgraph.png" border="0" usemap="#page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_cgraph" alt=""/></div>
<map name="page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_cgraph" id="page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,59,56"/>
<area shape="rect" href="lib_8c.html#a7380daad7085b08d0e037abc3136dccd" title=" " alt="" coords="110,5,149,31"/>
<area shape="rect" href="lib_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title=" " alt="" coords="107,55,153,80"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_icgraph.png" border="0" usemap="#page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_icgraph" alt=""/></div>
<map name="page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_icgraph" id="page-merge-seq_8c_a918b046cec37d7261c86402686859e9a_icgraph">
<area shape="rect" title=" " alt="" coords="132,5,186,31"/>
<area shape="rect" href="page-merge-seq_8c.html#a8a4533f287d99bb2d7c24c0e29c9a449" title="tests/main.h" alt="" coords="5,5,84,31"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae472cad57041513da9087fb3ade4818f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae472cad57041513da9087fb3ade4818f">&#9670;&nbsp;</a></span>buf1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char buf1[<a class="el" href="parallel-merge_8c.html#af55149bc1f05cf18af067a302e31e3f9">DATA_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00018">18</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="page-merge-seq_8c_source.html#l00024">init()</a>, <a class="el" href="page-merge-seq_8c_source.html#l00073">merge()</a>, and <a class="el" href="page-merge-seq_8c_source.html#l00039">sort_chunks()</a>.</p>

</div>
</div>
<a id="a3916e439b413433cebbba25620608ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3916e439b413433cebbba25620608ada">&#9670;&nbsp;</a></span>buf2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char buf2[<a class="el" href="parallel-merge_8c.html#af55149bc1f05cf18af067a302e31e3f9">DATA_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00018">18</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="page-merge-seq_8c_source.html#l00073">merge()</a>, and <a class="el" href="page-merge-seq_8c_source.html#l00108">verify()</a>.</p>

</div>
</div>
<a id="a22de8e2d783d8f08a270783f690b1675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22de8e2d783d8f08a270783f690b1675">&#9670;&nbsp;</a></span>histogram</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> histogram[256]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="page-merge-seq_8c_source.html#l00019">19</a> of file <a class="el" href="page-merge-seq_8c_source.html">page-merge-seq.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="page-merge-seq_8c_source.html#l00024">init()</a>, and <a class="el" href="page-merge-seq_8c_source.html#l00108">verify()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 22 2019 10:19:18 for CS318 - Pintos by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
