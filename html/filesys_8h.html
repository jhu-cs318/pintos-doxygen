<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CS318 - Pintos: src/filesys/filesys.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CS318 - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for JHU CS318 course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_462cf8f5a5a6b6c35369e33c5cc1b3e4.html">filesys</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">filesys.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="stdbool_8h_source.html">stdbool.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="off__t_8h_source.html">filesys/off_t.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for filesys.h:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h__incl.png" border="0" usemap="#src_2filesys_2filesys_8h" alt=""/></div>
<map name="src_2filesys_2filesys_8h" id="src_2filesys_2filesys_8h">
<area shape="rect" title=" " alt="" coords="32,5,164,31"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="5,79,81,104"/>
<area shape="rect" href="off__t_8h.html" title=" " alt="" coords="104,79,203,104"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="122,152,186,177"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h__dep__incl.png" border="0" usemap="#src_2filesys_2filesys_8hdep" alt=""/></div>
<map name="src_2filesys_2filesys_8hdep" id="src_2filesys_2filesys_8hdep">
<area shape="rect" title=" " alt="" coords="414,5,546,31"/>
<area shape="rect" href="directory_8c.html" title=" " alt="" coords="5,79,149,104"/>
<area shape="rect" href="filesys_8c.html" title=" " alt="" coords="173,79,304,104"/>
<area shape="rect" href="free-map_8c.html" title=" " alt="" coords="328,79,475,104"/>
<area shape="rect" href="fsutil_8c.html" title=" " alt="" coords="499,79,621,104"/>
<area shape="rect" href="inode_8c.html" title=" " alt="" coords="645,79,771,104"/>
<area shape="rect" href="process_8c.html" title=" " alt="" coords="795,79,951,104"/>
</map>
</div>
</div>
<p><a href="filesys_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af369a3e91dba6cdc798ec2ee37c41cc7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#af369a3e91dba6cdc798ec2ee37c41cc7">FREE_MAP_SECTOR</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:af369a3e91dba6cdc798ec2ee37c41cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sectors of system file inodes.  <a href="filesys_8h.html#af369a3e91dba6cdc798ec2ee37c41cc7">More...</a><br /></td></tr>
<tr class="separator:af369a3e91dba6cdc798ec2ee37c41cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a0f32a4d427b6f63f9c156085b85d63"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#a1a0f32a4d427b6f63f9c156085b85d63">ROOT_DIR_SECTOR</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a1a0f32a4d427b6f63f9c156085b85d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Root directory file inode sector.  <a href="filesys_8h.html#a1a0f32a4d427b6f63f9c156085b85d63">More...</a><br /></td></tr>
<tr class="separator:a1a0f32a4d427b6f63f9c156085b85d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af905a48e295d86405ec08c307b6272f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#af905a48e295d86405ec08c307b6272f5">filesys_init</a> (<a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> format)</td></tr>
<tr class="memdesc:af905a48e295d86405ec08c307b6272f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the file system module.  <a href="filesys_8h.html#af905a48e295d86405ec08c307b6272f5">More...</a><br /></td></tr>
<tr class="separator:af905a48e295d86405ec08c307b6272f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7068b9b8e7563972715862ca8106f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#aeb7068b9b8e7563972715862ca8106f5">filesys_done</a> (void)</td></tr>
<tr class="memdesc:aeb7068b9b8e7563972715862ca8106f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the file system module, writing any unwritten data to disk.  <a href="filesys_8h.html#aeb7068b9b8e7563972715862ca8106f5">More...</a><br /></td></tr>
<tr class="separator:aeb7068b9b8e7563972715862ca8106f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff15830b489ffbb2619bbb71a79656ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#aff15830b489ffbb2619bbb71a79656ee">filesys_create</a> (const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>, <a class="el" href="off__t_8h.html#a7d63687fa6ad4c7e0134c0ffc5f3962c">off_t</a> initial_size)</td></tr>
<tr class="memdesc:aff15830b489ffbb2619bbb71a79656ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a file named NAME with the given INITIAL_SIZE.  <a href="filesys_8h.html#aff15830b489ffbb2619bbb71a79656ee">More...</a><br /></td></tr>
<tr class="separator:aff15830b489ffbb2619bbb71a79656ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd9e1e66d780ecd7580dabcf72559b4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfile.html">file</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#a6dd9e1e66d780ecd7580dabcf72559b4">filesys_open</a> (const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>)</td></tr>
<tr class="memdesc:a6dd9e1e66d780ecd7580dabcf72559b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the file with the given NAME.  <a href="filesys_8h.html#a6dd9e1e66d780ecd7580dabcf72559b4">More...</a><br /></td></tr>
<tr class="separator:a6dd9e1e66d780ecd7580dabcf72559b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac536ffc3c10934a7f80e43e98b7c75ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#ac536ffc3c10934a7f80e43e98b7c75ae">filesys_remove</a> (const char *<a class="el" href="insult_8c.html#a458312c43d951ea41bca2379541164e6">name</a>)</td></tr>
<tr class="memdesc:ac536ffc3c10934a7f80e43e98b7c75ae"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="filesys_8h.html">filesys/filesys.h</a>  <a href="filesys_8h.html#ac536ffc3c10934a7f80e43e98b7c75ae">More...</a><br /></td></tr>
<tr class="separator:ac536ffc3c10934a7f80e43e98b7c75ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2ac9b90d56c44cd8684a8854e5e773ae"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structblock.html">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filesys_8h.html#a2ac9b90d56c44cd8684a8854e5e773ae">fs_device</a></td></tr>
<tr class="memdesc:a2ac9b90d56c44cd8684a8854e5e773ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block device that contains the file system.  <a href="filesys_8h.html#a2ac9b90d56c44cd8684a8854e5e773ae">More...</a><br /></td></tr>
<tr class="separator:a2ac9b90d56c44cd8684a8854e5e773ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af369a3e91dba6cdc798ec2ee37c41cc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af369a3e91dba6cdc798ec2ee37c41cc7">&#9670;&nbsp;</a></span>FREE_MAP_SECTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FREE_MAP_SECTOR&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sectors of system file inodes. </p>
<p>Free map file inode sector. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8h_source.html#l00008">8</a> of file <a class="el" href="filesys_8h_source.html">filesys.h</a>.</p>

</div>
</div>
<a id="a1a0f32a4d427b6f63f9c156085b85d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a0f32a4d427b6f63f9c156085b85d63">&#9670;&nbsp;</a></span>ROOT_DIR_SECTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROOT_DIR_SECTOR&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Root directory file inode sector. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8h_source.html#l00009">9</a> of file <a class="el" href="filesys_8h_source.html">filesys.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aff15830b489ffbb2619bbb71a79656ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff15830b489ffbb2619bbb71a79656ee">&#9670;&nbsp;</a></span>filesys_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> filesys_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="off__t_8h.html#a7d63687fa6ad4c7e0134c0ffc5f3962c">off_t</a>&#160;</td>
          <td class="paramname"><em>initial_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a file named NAME with the given INITIAL_SIZE. </p>
<p>Returns true if successful, false otherwise. Fails if a file named NAME already exists, or if internal memory allocation fails. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8c_source.html#l00046">46</a> of file <a class="el" href="filesys_8c_source.html">filesys.c</a>.</p>

<p class="reference">References <a class="el" href="directory_8c_source.html#l00142">dir_add()</a>, <a class="el" href="directory_8c_source.html#l00070">dir_close()</a>, <a class="el" href="directory_8c_source.html#l00055">dir_open_root()</a>, <a class="el" href="free-map_8c_source.html#l00028">free_map_allocate()</a>, <a class="el" href="free-map_8c_source.html#l00045">free_map_release()</a>, <a class="el" href="inode_8c_source.html#l00073">inode_create()</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, and <a class="el" href="stddef_8h_source.html#l00004">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="fsutil_8c_source.html#l00073">fsutil_extract()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_aff15830b489ffbb2619bbb71a79656ee_cgraph.png" border="0" usemap="#filesys_8h_aff15830b489ffbb2619bbb71a79656ee_cgraph" alt=""/></div>
<map name="filesys_8h_aff15830b489ffbb2619bbb71a79656ee_cgraph" id="filesys_8h_aff15830b489ffbb2619bbb71a79656ee_cgraph">
<area shape="rect" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="5,989,108,1015"/>
<area shape="rect" href="directory_8c.html#a86380e077145f4f4ca42e0bd413c79fd" title="Adds a file named NAME to DIR, which must not already contain a file by that name." alt="" coords="175,187,241,212"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="320,1065,394,1091"/>
<area shape="rect" href="free-map_8c.html#a65586c8713124a199b6db7397c1aba6f" title="Makes CNT sectors starting at SECTOR available for use." alt="" coords="958,1168,1086,1193"/>
<area shape="rect" href="directory_8c.html#a360de0f3a61721d83b1d6f3f435779de" title="Opens the root directory and returns a directory for it." alt="" coords="156,964,260,989"/>
<area shape="rect" href="free-map_8c.html#a9cce17fe18443be5a61dbdf40c10e03a" title="Allocates CNT consecutive sectors from the free map and stores the first into *SECTORP." alt="" coords="956,1117,1088,1143"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="308,888,406,913"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="455,163,562,188"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="454,261,562,287"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="327,212,387,237"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="327,60,387,85"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="481,111,535,136"/>
<area shape="rect" href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="628,209,715,235"/>
<area shape="rect" href="inode_8c.html#a9b48abdaf996c82819f49d6d8fc4c224" title="Returns the block device sector that contains byte offset POS within INODE." alt="" coords="617,160,726,185"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="649,812,694,837"/>
<area shape="rect" href="inode_8c.html#a67214eb44fb24ef254fca76f9a63fd6d" title="Returns the length, in bytes, of INODE&#39;s data." alt="" coords="623,111,720,136"/>
<area shape="rect" href="malloc_8c.html#a7ac38fce3243a7dcf448301ee9ffd392" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="641,360,701,385"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="635,61,707,87"/>
<area shape="rect" href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="792,5,892,31"/>
<area shape="rect" href="malloc_8c.html#a9c2a4cff5e437e5be52e507be30eea49" title="Returns the (IDX &#45; 1)&#39;th block within arena A." alt="" coords="786,511,898,536"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="786,560,898,585"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a2b0911a5635312de560f8d2a744956ad" title="Inserts ELEM at the beginning of LIST, so that it becomes the front in LIST." alt="" coords="788,661,896,687"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9574755a392b556ddb650b8672f9f4af" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="977,965,1067,991"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1167,335,1264,360"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1167,233,1264,259"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1181,813,1250,839"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="952,915,1092,940"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="780,915,904,940"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="983,611,1061,636"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1174,1117,1257,1143"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1339,1053,1479,1079"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1527,1103,1645,1128"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1543,1053,1629,1079"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="802,360,883,385"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="792,461,893,487"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="787,157,897,183"/>
<area shape="rect" href="palloc_8c.html#a135bc426d035b41313b4542adfd2c05f" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="954,335,1090,360"/>
<area shape="rect" href="palloc_8c.html#aa8cccdccaa05d4023e3e65c15ed486af" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="783,259,902,284"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="988,157,1056,183"/>
<area shape="rect" href="bitmap_8c.html#a9ba55f2ff408378a1127282264353651" title="Finds the first group of CNT consecutive bits in B at or after START that are all set to VALUE,..." alt="" coords="1140,965,1291,991"/>
<area shape="rect" href="bitmap_8c.html#a88a9127abe8322926d25de46140b778a" title="Finding set or unset bits." alt="" coords="1361,979,1457,1004"/>
<area shape="rect" href="block_8c.html#ab7e44f7861385a5c4630d899a469f9d4" title="Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="627,259,715,284"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="478,212,539,237"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="462,1116,555,1141"/>
<area shape="rect" href="inode_8c.html#af6294d594eab7d7afccf0d0cefd35a13" title="Returns the number of sectors to allocate for an inode SIZE bytes long." alt="" coords="610,1040,732,1065"/>
<area shape="rect" href="directory_8c.html#a0dfe3061367785a89729e7f326b3fe36" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="320,964,394,989"/>
<area shape="rect" href="inode_8c.html#a37507d1ac66a45c81677cbd83039af3a" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="463,636,554,661"/>
<area shape="rect" href="malloc_8c.html#a2b87cd3f63698b243dddb141a4c1e72a" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="481,863,536,888"/>
<area shape="rect" href="inode_8c.html#a2314e746f5653780aab519437db1296d" title="Reopens and returns INODE." alt="" coords="620,712,723,737"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb3307f0f8fb717f84cf74110d59196a" title="Returns the element after ELEM in its list." alt="" coords="636,761,706,787"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_aff15830b489ffbb2619bbb71a79656ee_icgraph.png" border="0" usemap="#filesys_8h_aff15830b489ffbb2619bbb71a79656ee_icgraph" alt=""/></div>
<map name="filesys_8h_aff15830b489ffbb2619bbb71a79656ee_icgraph" id="filesys_8h_aff15830b489ffbb2619bbb71a79656ee_icgraph">
<area shape="rect" title="Creates a file named NAME with the given INITIAL_SIZE." alt="" coords="417,5,520,31"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="273,5,369,31"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="135,5,225,31"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,87,31"/>
</map>
</div>

</div>
</div>
<a id="aeb7068b9b8e7563972715862ca8106f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb7068b9b8e7563972715862ca8106f5">&#9670;&nbsp;</a></span>filesys_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void filesys_done </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down the file system module, writing any unwritten data to disk. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8c_source.html#l00036">36</a> of file <a class="el" href="filesys_8c_source.html">filesys.c</a>.</p>

<p class="reference">References <a class="el" href="free-map_8c_source.html#l00065">free_map_close()</a>.</p>

<p class="reference">Referenced by <a class="el" href="shutdown_8c_source.html#l00088">shutdown_power_off()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_aeb7068b9b8e7563972715862ca8106f5_cgraph.png" border="0" usemap="#filesys_8h_aeb7068b9b8e7563972715862ca8106f5_cgraph" alt=""/></div>
<map name="filesys_8h_aeb7068b9b8e7563972715862ca8106f5_cgraph" id="filesys_8h_aeb7068b9b8e7563972715862ca8106f5_cgraph">
<area shape="rect" title="Shuts down the file system module, writing any unwritten data to disk." alt="" coords="5,776,101,801"/>
<area shape="rect" href="free-map_8c.html#ac00d55315a3b01794bcdc6cc9d5ba5f5" title="Writes the free map to disk and closes the free map file." alt="" coords="149,776,265,801"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="313,776,390,801"/>
<area shape="rect" href="file_8c.html#afe7d1da8b53f8b896fc5faf646468356" title="Re&#45;enables write operations on FILE&#39;s underlying inode." alt="" coords="438,725,550,750"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="639,774,683,800"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="448,976,540,1001"/>
<area shape="rect" href="inode_8c.html#af980635032a3d7215e955e3aa0e1c902" title="Re&#45;enables writes to INODE." alt="" coords="598,725,725,750"/>
<area shape="rect" href="malloc_8c.html#a9c2a4cff5e437e5be52e507be30eea49" title="Returns the (IDX &#45; 1)&#39;th block within arena A." alt="" coords="779,824,891,849"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="958,622,1071,648"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a2b0911a5635312de560f8d2a744956ad" title="Inserts ELEM at the beginning of LIST, so that it becomes the front in LIST." alt="" coords="1334,872,1442,897"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9574755a392b556ddb650b8672f9f4af" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1343,924,1433,949"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="966,68,1063,93"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="787,421,883,446"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1172,724,1241,749"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="945,774,1085,800"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="773,774,897,800"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1176,674,1237,700"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="1810,421,1927,446"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="1668,560,1745,585"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1510,872,1588,897"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1667,924,1746,949"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1679,872,1734,897"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1661,117,1752,142"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1133,61,1281,100"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1495,117,1603,142"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1160,168,1253,193"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1669,292,1745,317"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1651,242,1762,268"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1504,420,1594,445"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1338,269,1438,294"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1333,472,1443,497"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1339,168,1437,193"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1656,356,1757,381"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1505,218,1593,244"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1673,510,1740,536"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1512,268,1586,293"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="976,421,1053,446"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1508,534,1590,560"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1156,573,1257,598"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1150,370,1263,396"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9b0ec9912b9a1a4d95b47984e0777e66" title="Returns the front element in LIST." alt="" coords="1352,573,1424,598"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1166,1076,1248,1101"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1137,1026,1277,1052"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1148,773,1265,798"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1359,822,1417,848"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1329,1076,1447,1101"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1345,1026,1431,1052"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1342,773,1434,798"/>
<area shape="rect" href="inode_8c.html#af6294d594eab7d7afccf0d0cefd35a13" title="Returns the number of sectors to allocate for an inode SIZE bytes long." alt="" coords="600,1026,722,1052"/>
<area shape="rect" href="free-map_8c.html#a65586c8713124a199b6db7397c1aba6f" title="Makes CNT sectors starting at SECTOR available for use." alt="" coords="950,1076,1079,1101"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_aeb7068b9b8e7563972715862ca8106f5_icgraph.png" border="0" usemap="#filesys_8h_aeb7068b9b8e7563972715862ca8106f5_icgraph" alt=""/></div>
<map name="filesys_8h_aeb7068b9b8e7563972715862ca8106f5_icgraph" id="filesys_8h_aeb7068b9b8e7563972715862ca8106f5_icgraph">
<area shape="rect" title="Shuts down the file system module, writing any unwritten data to disk." alt="" coords="606,81,702,107"/>
<area shape="rect" href="shutdown_8h.html#a5a3f691cafea75080890d3c921840da7" title="devices/shutdown.h" alt="" coords="414,81,558,107"/>
<area shape="rect" href="shutdown_8h.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="288,56,366,81"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="298,105,356,131"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="138,5,236,31"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,87,107"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="135,107,240,132"/>
</map>
</div>

</div>
</div>
<a id="af905a48e295d86405ec08c307b6272f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af905a48e295d86405ec08c307b6272f5">&#9670;&nbsp;</a></span>filesys_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void filesys_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the file system module. </p>
<p>If FORMAT is true, reformats the file system. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8c_source.html#l00018">18</a> of file <a class="el" href="filesys_8c_source.html">filesys.c</a>.</p>

<p class="reference">References <a class="el" href="block_8h_source.html#l00030">BLOCK_FILESYS</a>, <a class="el" href="block_8c_source.html#l00054">block_get_role()</a>, <a class="el" href="filesys_8c_source.html#l00095">do_format()</a>, <a class="el" href="free-map_8c_source.html#l00013">free_map_init()</a>, <a class="el" href="free-map_8c_source.html#l00054">free_map_open()</a>, <a class="el" href="filesys_8c_source.html#l00011">fs_device</a>, <a class="el" href="inode_8c_source.html#l00062">inode_init()</a>, <a class="el" href="stddef_8h_source.html#l00004">NULL</a>, and <a class="el" href="debug_8h_source.html#l00014">PANIC</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_af905a48e295d86405ec08c307b6272f5_cgraph.png" border="0" usemap="#filesys_8h_af905a48e295d86405ec08c307b6272f5_cgraph" alt=""/></div>
<map name="filesys_8h_af905a48e295d86405ec08c307b6272f5_cgraph" id="filesys_8h_af905a48e295d86405ec08c307b6272f5_cgraph">
<area shape="rect" title="Initializes the file system module." alt="" coords="5,458,88,483"/>
<area shape="rect" href="block_8c.html#a7cd2dd12c0797e95bea756667c4f5768" title="Returns the block device fulfilling the given ROLE, or a null pointer if no block device has been ass..." alt="" coords="136,356,244,382"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="150,458,231,483"/>
<area shape="rect" href="free-map_8c.html#a5fa440f72db2c255d095ecf34aff9a7e" title="Initializes the free map." alt="" coords="302,698,404,723"/>
<area shape="rect" href="free-map_8c.html#a82ae69d4b7534829d5c1672231c62370" title="Opens the free map file and reads it from disk." alt="" coords="296,307,411,332"/>
<area shape="rect" href="inode_8c.html#ad89ce20702802203535257a453c0290b" title="Initializes the inode module." alt="" coords="151,671,229,696"/>
<area shape="rect" href="directory_8c.html#ab3951213f266ce0e0404203a35fefe8f" title="Creates a directory with space for ENTRY_CNT entries in the given SECTOR." alt="" coords="313,458,394,483"/>
<area shape="rect" href="free-map_8c.html#ac00d55315a3b01794bcdc6cc9d5ba5f5" title="Writes the free map to disk and closes the free map file." alt="" coords="295,356,411,382"/>
<area shape="rect" href="free-map_8c.html#a928c69cba9ea179d6fe581acd970c512" title="Creates a new free map file on disk and writes the free map to it." alt="" coords="292,407,414,432"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="328,552,379,578"/>
<area shape="rect" href="inode_8c.html#aa867b845d1fde30169c685397e05ac3f" title="Initializes an inode with LENGTH bytes of data and writes the new inode to sector SECTOR on the file ..." alt="" coords="466,458,564,483"/>
<area shape="rect" href="block_8c.html#ab7e44f7861385a5c4630d899a469f9d4" title="Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="638,508,726,534"/>
<area shape="rect" href="inode_8c.html#af6294d594eab7d7afccf0d0cefd35a13" title="Returns the number of sectors to allocate for an inode SIZE bytes long." alt="" coords="804,331,926,356"/>
<area shape="rect" href="malloc_8c.html#a2b87cd3f63698b243dddb141a4c1e72a" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="654,407,709,432"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="843,432,887,458"/>
<area shape="rect" href="free-map_8c.html#a9cce17fe18443be5a61dbdf40c10e03a" title="Allocates CNT consecutive sectors from the free map and stores the first into *SECTORP." alt="" coords="616,610,747,635"/>
<area shape="rect" href="malloc_8c.html#a7ac38fce3243a7dcf448301ee9ffd392" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="835,482,895,507"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1005,382,1074,407"/>
<area shape="rect" href="malloc_8c.html#a9c2a4cff5e437e5be52e507be30eea49" title="Returns the (IDX &#45; 1)&#39;th block within arena A." alt="" coords="983,432,1096,458"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="983,482,1096,507"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="991,580,1087,606"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="991,531,1087,556"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a2b0911a5635312de560f8d2a744956ad" title="Inserts ELEM at the beginning of LIST, so that it becomes the front in LIST." alt="" coords="985,31,1093,56"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9574755a392b556ddb650b8672f9f4af" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="995,306,1084,331"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="1144,6,1221,31"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="795,759,935,784"/>
<area shape="rect" href="file_8c.html#a4d12e9de7ab756bef5396c7b37698c9a" title="Closes FILE." alt="" coords="477,250,554,275"/>
<area shape="rect" href="file_8c.html#afe7d1da8b53f8b896fc5faf646468356" title="Re&#45;enables write operations on FILE&#39;s underlying inode." alt="" coords="626,155,738,180"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="635,204,728,230"/>
<area shape="rect" href="file_8c.html#ae9c6487eb7f772982a437b42483c6827" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="478,307,553,332"/>
<area shape="rect" href="inode_8c.html#a37507d1ac66a45c81677cbd83039af3a" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="636,106,727,131"/>
<area shape="rect" href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="822,82,908,107"/>
<area shape="rect" href="inode_8c.html#a2314e746f5653780aab519437db1296d" title="Reopens and returns INODE." alt="" coords="814,131,917,156"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="832,180,899,206"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb3307f0f8fb717f84cf74110d59196a" title="Returns the element after ELEM in its list." alt="" coords="830,230,900,255"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="653,711,711,736"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="829,660,901,686"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="806,710,924,735"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="806,535,924,560"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="814,611,916,636"/>
<area shape="rect" href="bitmap_8c.html#a8cf39272ab5d44e368dc21a166e3a236" title="Creation and destruction." alt="" coords="462,698,568,723"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="466,822,564,847"/>
<area shape="rect" href="block_8c.html#a66f8a413d9cb3ea11c9cd302f803daea" title="Returns the number of sectors in BLOCK." alt="" coords="473,871,557,896"/>
<area shape="rect" href="bitmap_8c.html#ad1c4bbb333372b166e232cf271236c90" title="Setting and testing multiple bits." alt="" coords="628,760,735,786"/>
<area shape="rect" href="bitmap_8c.html#a2a7a926eb6f971a33a2ce103b73aff38" title="Returns the number of bytes required for BIT_CNT bits." alt="" coords="646,810,718,835"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="819,808,911,834"/>
<area shape="rect" href="bitmap_8c.html#a12b88bb32eb5563c12b75f09681267df" title="Returns the number of elements required for BIT_CNT bits." alt="" coords="827,858,903,883"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="644,908,719,934"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="644,859,719,884"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a8aa862d10f52f7b0348fce990c7c12db" title="Initializes LIST as an empty list." alt="" coords="322,747,384,772"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_af905a48e295d86405ec08c307b6272f5_icgraph.png" border="0" usemap="#filesys_8h_af905a48e295d86405ec08c307b6272f5_icgraph" alt=""/></div>
<map name="filesys_8h_af905a48e295d86405ec08c307b6272f5_icgraph" id="filesys_8h_af905a48e295d86405ec08c307b6272f5_icgraph">
<area shape="rect" title="Initializes the file system module." alt="" coords="135,5,218,31"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,87,31"/>
</map>
</div>

</div>
</div>
<a id="a6dd9e1e66d780ecd7580dabcf72559b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dd9e1e66d780ecd7580dabcf72559b4">&#9670;&nbsp;</a></span>filesys_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfile.html">file</a>* filesys_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens the file with the given NAME. </p>
<p>Returns the new file if successful or a null pointer otherwise. Fails if no file named NAME exists, or if an internal memory allocation fails. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8c_source.html#l00067">67</a> of file <a class="el" href="filesys_8c_source.html">filesys.c</a>.</p>

<p class="reference">References <a class="el" href="directory_8c_source.html#l00070">dir_close()</a>, <a class="el" href="directory_8c_source.html#l00119">dir_lookup()</a>, <a class="el" href="directory_8c_source.html#l00055">dir_open_root()</a>, <a class="el" href="file_8c_source.html#l00018">file_open()</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, and <a class="el" href="stddef_8h_source.html#l00004">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="fsutil_8c_source.html#l00167">fsutil_append()</a>, <a class="el" href="fsutil_8c_source.html#l00034">fsutil_cat()</a>, <a class="el" href="fsutil_8c_source.html#l00073">fsutil_extract()</a>, and <a class="el" href="process_8c_source.html#l00209">load()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_cgraph.png" border="0" usemap="#filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_cgraph" alt=""/></div>
<map name="filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_cgraph" id="filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_cgraph">
<area shape="rect" title="Opens the file with the given NAME." alt="" coords="5,878,101,903"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="301,954,375,979"/>
<area shape="rect" href="directory_8c.html#a782062143b05a6f32d11457cfd6259f6" title="Searches DIR for a file with the given NAME and returns true if one exists, false otherwise." alt="" coords="159,577,242,602"/>
<area shape="rect" href="directory_8c.html#a360de0f3a61721d83b1d6f3f435779de" title="Opens the root directory and returns a directory for it." alt="" coords="149,853,252,878"/>
<area shape="rect" href="file_8c.html#ae9c6487eb7f772982a437b42483c6827" title="Opens a file for the given INODE, of which it takes ownership, and returns the new file." alt="" coords="300,903,376,929"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="617,903,662,929"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="431,1005,523,1030"/>
<area shape="rect" href="malloc_8c.html#a9c2a4cff5e437e5be52e507be30eea49" title="Returns the (IDX &#45; 1)&#39;th block within arena A." alt="" coords="754,853,867,878"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="754,803,867,829"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a2b0911a5635312de560f8d2a744956ad" title="Inserts ELEM at the beginning of LIST, so that it becomes the front in LIST." alt="" coords="936,550,1044,575"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9574755a392b556ddb650b8672f9f4af" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1650,1010,1739,1035"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1130,662,1226,687"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1130,555,1226,581"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1144,1055,1212,1081"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="920,1005,1060,1030"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="749,1005,872,1030"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1147,905,1209,930"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="932,803,1049,829"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="1656,287,1733,313"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1656,622,1733,647"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1787,622,1866,647"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1502,686,1592,711"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1296,549,1444,587"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1493,611,1601,637"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1323,611,1417,637"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1492,479,1602,505"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1661,389,1728,414"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1332,499,1408,525"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1506,389,1588,414"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1496,814,1598,839"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1137,1105,1219,1130"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1108,1155,1248,1181"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1119,1006,1237,1031"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1341,981,1399,1006"/>
<area shape="rect" href="inode_8c.html#af6294d594eab7d7afccf0d0cefd35a13" title="Returns the number of sectors to allocate for an inode SIZE bytes long." alt="" coords="578,1207,701,1233"/>
<area shape="rect" href="free-map_8c.html#a65586c8713124a199b6db7397c1aba6f" title="Makes CNT sectors starting at SECTOR available for use." alt="" coords="926,1157,1055,1182"/>
<area shape="rect" href="inode_8c.html#a37507d1ac66a45c81677cbd83039af3a" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="432,246,523,271"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="308,577,368,602"/>
<area shape="rect" href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="596,297,683,322"/>
<area shape="rect" href="inode_8c.html#a2314e746f5653780aab519437db1296d" title="Reopens and returns INODE." alt="" coords="588,145,691,170"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb3307f0f8fb717f84cf74110d59196a" title="Returns the element after ELEM in its list." alt="" coords="604,43,675,69"/>
<area shape="rect" href="malloc_8c.html#a7ac38fce3243a7dcf448301ee9ffd392" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="610,601,669,626"/>
<area shape="rect" href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="760,297,860,322"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#aee78fb1351519ad20686f6eaf9018b4c" title="Returns true if ELEM is a head, false otherwise." alt="" coords="776,43,844,69"/>
<area shape="rect" href="palloc_8c.html#a135bc426d035b41313b4542adfd2c05f" title="Obtains and returns a group of PAGE_CNT contiguous free pages." alt="" coords="922,682,1058,707"/>
<area shape="rect" href="palloc_8c.html#aa8cccdccaa05d4023e3e65c15ed486af" title="Obtains a single free page and returns its kernel virtual address." alt="" coords="751,601,870,626"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="424,601,530,626"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="446,551,508,577"/>
<area shape="rect" href="directory_8c.html#a0dfe3061367785a89729e7f326b3fe36" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="302,853,375,878"/>
<area shape="rect" href="malloc_8c.html#a2b87cd3f63698b243dddb141a4c1e72a" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="449,853,505,878"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_icgraph.png" border="0" usemap="#filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_icgraph" alt=""/></div>
<map name="filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_icgraph" id="filesys_8h_a6dd9e1e66d780ecd7580dabcf72559b4_icgraph">
<area shape="rect" title="Opens the file with the given NAME." alt="" coords="831,81,927,107"/>
<area shape="rect" href="fsutil_8h.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="filesys/fsutil.h" alt="" coords="588,5,688,31"/>
<area shape="rect" href="fsutil_8h.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="441,56,515,81"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="273,107,369,132"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="737,157,783,183"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="135,81,225,107"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,87,107"/>
<area shape="rect" href="process_8c.html#aff0aeae725745f4c80c93b49e8dc1af0" title="A thread function that loads a user process and starts it running." alt="" coords="587,157,689,183"/>
<area shape="rect" href="process_8h.html#a1582bcaeb44cd10cde5e05c3385b2f97" title="Starts a new thread running a user program loaded from FILENAME." alt="" coords="417,157,539,183"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="285,156,357,181"/>
</map>
</div>

</div>
</div>
<a id="ac536ffc3c10934a7f80e43e98b7c75ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac536ffc3c10934a7f80e43e98b7c75ae">&#9670;&nbsp;</a></span>filesys_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> filesys_remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="filesys_8h.html">filesys/filesys.h</a> </p>
<p><a class="el" href="filesys_8h.html">filesys/filesys.h</a></p>
<p>Returns true if successful, false on failure. Fails if no file named NAME exists, or if an internal memory allocation fails. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8c_source.html#l00084">84</a> of file <a class="el" href="filesys_8c_source.html">filesys.c</a>.</p>

<p class="reference">References <a class="el" href="directory_8c_source.html#l00070">dir_close()</a>, <a class="el" href="directory_8c_source.html#l00055">dir_open_root()</a>, <a class="el" href="directory_8c_source.html#l00185">dir_remove()</a>, <a class="el" href="insult_8c_source.html#l00047">name</a>, and <a class="el" href="stddef_8h_source.html#l00004">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="fsutil_8c_source.html#l00061">fsutil_rm()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_cgraph.png" border="0" usemap="#filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_cgraph" alt=""/></div>
<map name="filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_cgraph" id="filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_cgraph">
<area shape="rect" title="filesys/filesys.h" alt="" coords="5,499,116,524"/>
<area shape="rect" href="directory_8c.html#a92d246b6a292843fdfd7e3e1d2b29701" title="Destroys DIR and frees associated resources." alt="" coords="331,335,405,360"/>
<area shape="rect" href="directory_8c.html#a360de0f3a61721d83b1d6f3f435779de" title="Opens the root directory and returns a directory for it." alt="" coords="164,548,267,573"/>
<area shape="rect" href="directory_8c.html#ae277e450f2d6d436a61adccc0ad5ce23" title="Removes any entry for NAME in DIR." alt="" coords="171,499,259,524"/>
<area shape="rect" href="malloc_8c.html#a9f850d0608418aea291e4c0fdab93826" title="Frees block P, which must have been previously allocated with malloc(), calloc(), or realloc()." alt="" coords="664,385,708,411"/>
<area shape="rect" href="inode_8c.html#a74e1a19b5bcae248617541fe6f2f77c5" title="Closes INODE and writes it to disk." alt="" coords="477,385,569,411"/>
<area shape="rect" href="malloc_8c.html#a9c2a4cff5e437e5be52e507be30eea49" title="Returns the (IDX &#45; 1)&#39;th block within arena A." alt="" coords="801,484,913,509"/>
<area shape="rect" href="malloc_8c.html#a5db3c69e2b5fc7fb13fa1f663df2bf03" title="Returns the arena that block B is inside." alt="" coords="801,385,913,411"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a2b0911a5635312de560f8d2a744956ad" title="Inserts ELEM at the beginning of LIST, so that it becomes the front in LIST." alt="" coords="803,733,911,759"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9574755a392b556ddb650b8672f9f4af" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="812,583,902,608"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="809,435,905,460"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="809,533,905,559"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1199,259,1267,284"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="971,157,1111,183"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="795,157,919,183"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1202,335,1264,360"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="982,411,1099,436"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="1002,856,1080,881"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1002,777,1080,803"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1193,777,1272,803"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1188,487,1278,512"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="967,613,1115,652"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1179,563,1287,588"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="994,512,1088,537"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1003,676,1079,701"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1192,59,1274,84"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1163,108,1303,133"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1174,157,1292,183"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1351,183,1409,208"/>
<area shape="rect" href="inode_8c.html#af6294d594eab7d7afccf0d0cefd35a13" title="Returns the number of sectors to allocate for an inode SIZE bytes long." alt="" coords="625,5,747,31"/>
<area shape="rect" href="free-map_8c.html#a65586c8713124a199b6db7397c1aba6f" title="Makes CNT sectors starting at SECTOR available for use." alt="" coords="976,59,1105,84"/>
<area shape="rect" href="directory_8c.html#a0dfe3061367785a89729e7f326b3fe36" title="Opens and returns the directory for the given INODE, of which it takes ownership." alt="" coords="332,485,405,511"/>
<area shape="rect" href="inode_8c.html#a37507d1ac66a45c81677cbd83039af3a" title="Reads an inode from SECTOR and returns a ‘struct inode’ that contains it." alt="" coords="478,783,569,808"/>
<area shape="rect" href="malloc_8c.html#a2b87cd3f63698b243dddb141a4c1e72a" title="Allocates and return A times B bytes initialized to zeroes." alt="" coords="495,487,551,512"/>
<area shape="rect" href="malloc_8c.html#a7ac38fce3243a7dcf448301ee9ffd392" title="Obtains and returns a new block of at least SIZE bytes." alt="" coords="656,435,716,460"/>
<area shape="rect" href="block_8c.html#a8c08b3ab03d5cdb52856bab0aafe7006" title="Reads sector SECTOR from BLOCK into BUFFER, which must have room for BLOCK_SECTOR_SIZE bytes." alt="" coords="643,733,729,759"/>
<area shape="rect" href="inode_8c.html#a2314e746f5653780aab519437db1296d" title="Reopens and returns INODE." alt="" coords="635,984,738,1009"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="653,783,720,808"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb3307f0f8fb717f84cf74110d59196a" title="Returns the element after ELEM in its list." alt="" coords="651,935,721,960"/>
<area shape="rect" href="block_8c.html#a987bd0fa2cc9d2510f3756532f120d25" title="Verifies that SECTOR is a valid offset within BLOCK." alt="" coords="807,783,907,808"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#aee78fb1351519ad20686f6eaf9018b4c" title="Returns true if ELEM is a head, false otherwise." alt="" coords="823,935,891,960"/>
<area shape="rect" href="inode_8c.html#af37b7ea512c8cb2a43e593b3b2d32ed9" title="Marks INODE to be deleted when it is closed by the last caller who has it open." alt="" coords="315,436,421,461"/>
<area shape="rect" href="inode_8c.html#a09402d2c8d33dc00b2557daa27d944ee" title="Writes SIZE bytes from BUFFER into INODE, starting at OFFSET." alt="" coords="469,536,577,561"/>
<area shape="rect" href="directory_8c.html#ab2c71a2a1a0ffa3c618792babf4fc8b9" title="Searches DIR for a file with the given NAME." alt="" coords="338,587,398,612"/>
<area shape="rect" href="block_8c.html#ab7e44f7861385a5c4630d899a469f9d4" title="Write sector SECTOR to BLOCK from BUFFER, which must contain BLOCK_SECTOR_SIZE bytes." alt="" coords="642,536,730,561"/>
<area shape="rect" href="inode_8c.html#a9b48abdaf996c82819f49d6d8fc4c224" title="Returns the block device sector that contains byte offset POS within INODE." alt="" coords="632,635,741,660"/>
<area shape="rect" href="inode_8c.html#a67214eb44fb24ef254fca76f9a63fd6d" title="Returns the length, in bytes, of INODE&#39;s data." alt="" coords="637,684,735,709"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="650,585,722,611"/>
<area shape="rect" href="inode_8c.html#a31fcd756c686b818d56067b4460bfdb9" title="Reads SIZE bytes from INODE into BUFFER, starting at position OFFSET." alt="" coords="470,635,576,660"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="492,585,554,611"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_icgraph.png" border="0" usemap="#filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_icgraph" alt=""/></div>
<map name="filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_icgraph" id="filesys_8h_ac536ffc3c10934a7f80e43e98b7c75ae_icgraph">
<area shape="rect" title="filesys/filesys.h" alt="" coords="393,5,503,31"/>
<area shape="rect" href="fsutil_8h.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="273,5,345,31"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="135,5,225,31"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,87,31"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2ac9b90d56c44cd8684a8854e5e773ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac9b90d56c44cd8684a8854e5e773ae">&#9670;&nbsp;</a></span>fs_device</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structblock.html">block</a>* fs_device</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block device that contains the file system. </p>

<p class="definition">Definition at line <a class="el" href="filesys_8h_source.html#l00012">12</a> of file <a class="el" href="filesys_8h_source.html">filesys.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 22 2019 10:19:16 for CS318 - Pintos by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
