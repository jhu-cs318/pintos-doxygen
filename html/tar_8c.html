<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CS318 - Pintos: src/tests/filesys/extended/tar.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CS318 - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for JHU CS318 course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d93a1d4020dea85bb71b237545b5e722.html">tests</a></li><li class="navelem"><a class="el" href="dir_3f705688ff1c1f6cb6eb4137373c86f7.html">filesys</a></li><li class="navelem"><a class="el" href="dir_28a68e1faec239dd6dfc97018b53ee54.html">extended</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tar.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="ustar_8h_source.html">ustar.h</a>&gt;</code><br />
<code>#include &lt;syscall.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tar.c:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c__incl.png" border="0" usemap="#src_2tests_2filesys_2extended_2tar_8c" alt=""/></div>
<map name="src_2tests_2filesys_2extended_2tar_8c" id="src_2tests_2filesys_2extended_2tar_8c">
<area shape="rect" title=" " alt="" coords="94,5,264,44"/>
<area shape="rect" href="ustar_8h.html" title=" " alt="" coords="12,92,74,117"/>
<area shape="rect" title=" " alt="" coords="97,92,170,117"/>
<area shape="rect" title=" " alt="" coords="194,92,255,117"/>
<area shape="rect" href="string_8h.html" title=" " alt="" coords="279,92,344,117"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="5,165,81,191"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="277,165,345,191"/>
</map>
</div>
</div>
<p><a href="tar_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad96d407a911fbb914fa8e4cfbf2faf0f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f">usage</a> (void)</td></tr>
<tr class="memdesc:ad96d407a911fbb914fa8e4cfbf2faf0f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="tar_8c.html">tar.c</a>  <a href="tar_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f">More...</a><br /></td></tr>
<tr class="separator:ad96d407a911fbb914fa8e4cfbf2faf0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5758c0d6627e2210b6e18ec360169e91"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91">make_tar_archive</a> (const char *archive_name, char *files[], <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> file_cnt)</td></tr>
<tr class="separator:a5758c0d6627e2210b6e18ec360169e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736a422fc49cb04f6601997fb136c19c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c">archive_file</a> (char <a class="el" href="syn-rw_8h.html#a88c223d2a4e2c9bc84fe0551d812d1c5">file_name</a>[], <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> file_name_size, int archive_fd, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *write_error)</td></tr>
<tr class="separator:a736a422fc49cb04f6601997fb136c19c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95557238bd1ce1ece7c3859eff9888dc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc">archive_ordinary_file</a> (const char *<a class="el" href="syn-rw_8h.html#a88c223d2a4e2c9bc84fe0551d812d1c5">file_name</a>, int file_fd, int archive_fd, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *write_error)</td></tr>
<tr class="separator:a95557238bd1ce1ece7c3859eff9888dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d3fc4ba0c33158e98b91bd973212f9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9">archive_directory</a> (char <a class="el" href="syn-rw_8h.html#a88c223d2a4e2c9bc84fe0551d812d1c5">file_name</a>[], <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> file_name_size, int file_fd, int archive_fd, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *write_error)</td></tr>
<tr class="separator:a11d3fc4ba0c33158e98b91bd973212f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae922065d4290e3c877a5f3a5d7a824"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#aeae922065d4290e3c877a5f3a5d7a824">write_header</a> (const char *<a class="el" href="syn-rw_8h.html#a88c223d2a4e2c9bc84fe0551d812d1c5">file_name</a>, enum <a class="el" href="ustar_8h.html#a568552540e7f88c695b72c238c009837">ustar_type</a>, int size, int archive_fd, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *write_error)</td></tr>
<tr class="separator:aeae922065d4290e3c877a5f3a5d7a824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed54c3c43e1f39c75bd51bf2b7107c6b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b">do_write</a> (int fd, const char *<a class="el" href="input_8c.html#a02352b0fa3692f7c9029b2e12edcdbb6">buffer</a>, int size, <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *write_error)</td></tr>
<tr class="separator:aed54c3c43e1f39c75bd51bf2b7107c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a11d3fc4ba0c33158e98b91bd973212f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d3fc4ba0c33158e98b91bd973212f9">&#9670;&nbsp;</a></span>archive_directory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> archive_directory </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>file_name</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>file_name_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>file_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>archive_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>write_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00160">160</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="tar_8c_source.html#l00089">archive_file()</a>, <a class="el" href="syn-read_8h_source.html#l00005">file_name</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00169">readdir()</a>, <a class="el" href="lib_2user_2syscall_8h_source.html#l00016">READDIR_MAX_LEN</a>, <a class="el" href="string_8c_source.html#l00293">strlen()</a>, <a class="el" href="ustar_8h_source.html#l00016">USTAR_DIRECTORY</a>, and <a class="el" href="tar_8c_source.html#l00186">write_header()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tar_8c_source.html#l00089">archive_file()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_cgraph.png" border="0" usemap="#tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_cgraph" alt=""/></div>
<map name="tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_cgraph" id="tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_cgraph">
<area shape="rect" title=" " alt="" coords="5,219,128,245"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="176,219,265,245"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="896,293,947,318"/>
<area shape="rect" href="tar_8c.html#aeae922065d4290e3c877a5f3a5d7a824" title=" " alt="" coords="505,495,604,521"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="1062,442,1116,467"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a0aa847a91eaead434f068da636ec821f" title=" " alt="" coords="189,445,252,470"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="313,343,457,369"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a5bbe56a416af8f77723b652362f742f7" title=" " alt="" coords="359,143,411,169"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7e7eb2098a672ca4e4bf2a95b11d1aee" title="lib/user/syscall.h" alt="" coords="350,245,420,270"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#aad8fb521859618a34294cb6b71e92209" title=" " alt="" coords="362,294,408,319"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a703a13bc53a317ea70b87280ad3d974e" title=" " alt="" coords="360,94,411,119"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="686,343,758,369"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a2aff9d03d32ff7fbc2885fdb1a1b8deb" title=" " alt="" coords="523,242,586,267"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="887,391,956,417"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#ab0f9f22d375a9229b3c77859cf2035a0" title=" " alt="" coords="531,394,579,419"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="897,342,946,367"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1061,337,1118,362"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="1197,602,1270,627"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1347,463,1465,489"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="1347,238,1465,263"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1182,337,1285,362"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1373,577,1439,602"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1353,675,1460,701"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1357,725,1456,750"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1343,626,1470,651"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1376,527,1437,553"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1569,699,1657,725"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="1585,626,1640,651"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1958,443,2048,469"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1565,558,1661,583"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1753,494,1901,533"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1949,609,2057,634"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1780,609,1873,634"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1565,238,1661,263"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1789,238,1865,263"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1340,337,1473,362"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1521,386,1705,425"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1570,287,1656,313"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1575,337,1650,362"/>
<area shape="rect" href="ustar_8c.html#a7df8da167076821f714ddcf58700a26b" title="Composes HEADER as a USTAR_HEADER_SIZE (512)&#45;byte archive header in ustar format for a SIZE&#45;byte file..." alt="" coords="652,495,792,521"/>
<area shape="rect" href="ustar_8c.html#a4abd06a3432f80c53d46dfa9fdf6204a" title="Returns the checksum for the given ustar format HEADER." alt="" coords="858,493,985,518"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="889,665,954,690"/>
<area shape="rect" href="ustar_8c.html#ae29bd8874ee5cbfa8768535d1ff25f7f" title="Drop possibly dangerous prefixes from FILE_NAME and return the stripped name." alt="" coords="840,591,1003,617"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="892,542,951,567"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="1054,689,1125,714"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="1175,689,1292,714"/>
<area shape="rect" href="string_8c.html#a19c6163b9e87b586f4ddb7773faf9172" title="Find the first differing byte in the two blocks of SIZE bytes at A and B." alt="" coords="1051,541,1127,566"/>
<area shape="rect" href="string_8c.html#a7dc39cb18df6441ab248648041ad4f9d" title="Finds and returns the first occurrence of C in STRING, or a null pointer if C does not appear in STRI..." alt="" coords="1062,590,1117,615"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="1059,639,1120,665"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="1054,491,1125,517"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_icgraph.png" border="0" usemap="#tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_icgraph" alt=""/></div>
<map name="tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_icgraph" id="tar_8c_a11d3fc4ba0c33158e98b91bd973212f9_icgraph">
<area shape="rect" title=" " alt="" coords="416,5,539,31"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="279,5,368,31"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="104,5,231,31"/>
<area shape="rect" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a736a422fc49cb04f6601997fb136c19c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736a422fc49cb04f6601997fb136c19c">&#9670;&nbsp;</a></span>archive_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> archive_file </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>file_name</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>file_name_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>archive_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>write_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00089">89</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="tar_8c_source.html#l00160">archive_directory()</a>, <a class="el" href="tar_8c_source.html#l00124">archive_ordinary_file()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00139">close()</a>, <a class="el" href="syn-read_8h_source.html#l00005">file_name</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00181">inumber()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00175">isdir()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00103">open()</a>, and <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tar_8c_source.html#l00160">archive_directory()</a>, and <a class="el" href="tar_8c_source.html#l00049">make_tar_archive()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a736a422fc49cb04f6601997fb136c19c_cgraph.png" border="0" usemap="#tar_8c_a736a422fc49cb04f6601997fb136c19c_cgraph" alt=""/></div>
<map name="tar_8c_a736a422fc49cb04f6601997fb136c19c_cgraph" id="tar_8c_a736a422fc49cb04f6601997fb136c19c_cgraph">
<area shape="rect" title=" " alt="" coords="5,438,94,464"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="153,261,276,286"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="725,300,776,325"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="142,413,286,438"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a5bbe56a416af8f77723b652362f742f7" title=" " alt="" coords="188,462,241,488"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7e7eb2098a672ca4e4bf2a95b11d1aee" title="lib/user/syscall.h" alt="" coords="180,512,249,537"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#aad8fb521859618a34294cb6b71e92209" title=" " alt="" coords="191,561,237,586"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a703a13bc53a317ea70b87280ad3d974e" title=" " alt="" coords="189,610,240,636"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a0aa847a91eaead434f068da636ec821f" title=" " alt="" coords="352,210,415,236"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="892,422,945,448"/>
<area shape="rect" href="tar_8c.html#aeae922065d4290e3c877a5f3a5d7a824" title=" " alt="" coords="334,413,433,438"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="890,300,947,325"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="1026,456,1099,481"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1176,164,1295,189"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="1176,293,1295,318"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1012,349,1114,374"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1203,406,1268,432"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1182,456,1289,481"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1186,505,1285,530"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1172,554,1299,580"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1205,604,1266,629"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1398,505,1486,530"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="1414,554,1470,580"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1787,192,1877,217"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1394,77,1490,102"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1582,128,1730,166"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1778,26,1886,52"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1609,26,1702,52"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1394,242,1490,268"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1618,242,1694,268"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1169,350,1302,376"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1350,442,1534,481"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1399,393,1485,418"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1404,344,1480,369"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="515,413,587,438"/>
<area shape="rect" href="ustar_8c.html#a7df8da167076821f714ddcf58700a26b" title="Composes HEADER as a USTAR_HEADER_SIZE (512)&#45;byte archive header in ustar format for a SIZE&#45;byte file..." alt="" coords="481,481,621,506"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="726,349,775,374"/>
<area shape="rect" href="ustar_8c.html#a4abd06a3432f80c53d46dfa9fdf6204a" title="Returns the checksum for the given ustar format HEADER." alt="" coords="687,448,814,473"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="716,648,785,673"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="718,549,783,574"/>
<area shape="rect" href="ustar_8c.html#ae29bd8874ee5cbfa8768535d1ff25f7f" title="Drop possibly dangerous prefixes from FILE_NAME and return the stripped name." alt="" coords="669,598,832,624"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="721,398,781,424"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="883,502,954,528"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="1005,505,1121,530"/>
<area shape="rect" href="string_8c.html#a19c6163b9e87b586f4ddb7773faf9172" title="Find the first differing byte in the two blocks of SIZE bytes at A and B." alt="" coords="880,601,957,626"/>
<area shape="rect" href="string_8c.html#a7dc39cb18df6441ab248648041ad4f9d" title="Finds and returns the first occurrence of C in STRING, or a null pointer if C does not appear in STRI..." alt="" coords="891,650,946,676"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="888,552,949,577"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="883,373,954,398"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a2aff9d03d32ff7fbc2885fdb1a1b8deb" title=" " alt="" coords="353,462,415,488"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#ab0f9f22d375a9229b3c77859cf2035a0" title=" " alt="" coords="360,512,408,537"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a736a422fc49cb04f6601997fb136c19c_icgraph.png" border="0" usemap="#tar_8c_a736a422fc49cb04f6601997fb136c19c_icgraph" alt=""/></div>
<map name="tar_8c_a736a422fc49cb04f6601997fb136c19c_icgraph" id="tar_8c_a736a422fc49cb04f6601997fb136c19c_icgraph">
<area shape="rect" title=" " alt="" coords="279,5,368,31"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="106,5,229,31"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="104,55,231,80"/>
<area shape="rect" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,55,56,80"/>
</map>
</div>

</div>
</div>
<a id="a95557238bd1ce1ece7c3859eff9888dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95557238bd1ce1ece7c3859eff9888dc">&#9670;&nbsp;</a></span>archive_ordinary_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> archive_ordinary_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>file_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>archive_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>write_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00124">124</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="child-syn-read_8c_source.html#l00016">buf</a>, <a class="el" href="tar_8c_source.html#l00195">do_write()</a>, <a class="el" href="syn-read_8h_source.html#l00005">file_name</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00109">filesize()</a>, <a class="el" href="string_8c_source.html#l00279">memset()</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00115">read()</a>, <a class="el" href="ustar_8h_source.html#l00015">USTAR_REGULAR</a>, and <a class="el" href="tar_8c_source.html#l00186">write_header()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tar_8c_source.html#l00089">archive_file()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a95557238bd1ce1ece7c3859eff9888dc_cgraph.png" border="0" usemap="#tar_8c_a95557238bd1ce1ece7c3859eff9888dc_cgraph" alt=""/></div>
<map name="tar_8c_a95557238bd1ce1ece7c3859eff9888dc_cgraph" id="tar_8c_a95557238bd1ce1ece7c3859eff9888dc_cgraph">
<area shape="rect" title=" " alt="" coords="5,659,150,684"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="378,548,450,573"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="588,485,639,511"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a2aff9d03d32ff7fbc2885fdb1a1b8deb" title=" " alt="" coords="216,735,278,760"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="579,833,648,859"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#ab0f9f22d375a9229b3c77859cf2035a0" title=" " alt="" coords="223,784,271,809"/>
<area shape="rect" href="tar_8c.html#aeae922065d4290e3c877a5f3a5d7a824" title=" " alt="" coords="198,633,296,659"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="589,535,639,560"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="753,485,811,511"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="891,849,963,875"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="868,485,986,511"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="868,436,986,461"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="876,229,978,255"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1068,873,1134,899"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1047,972,1155,997"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1051,923,1150,948"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1038,775,1164,800"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1070,824,1132,849"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1263,947,1351,972"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="1280,775,1335,800"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1652,572,1742,597"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1053,445,1149,471"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1447,255,1595,293"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1643,395,1751,420"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1261,445,1354,471"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1817,371,1893,396"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1799,420,1910,445"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1653,53,1742,79"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1471,53,1571,79"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1466,572,1576,597"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1472,471,1570,496"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1053,217,1149,243"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1269,104,1345,129"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1481,103,1562,128"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1034,108,1168,133"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1216,153,1399,192"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1264,5,1350,31"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1270,55,1345,80"/>
<area shape="rect" href="ustar_8c.html#a7df8da167076821f714ddcf58700a26b" title="Composes HEADER as a USTAR_HEADER_SIZE (512)&#45;byte archive header in ustar format for a SIZE&#45;byte file..." alt="" coords="344,633,484,659"/>
<area shape="rect" href="ustar_8c.html#a4abd06a3432f80c53d46dfa9fdf6204a" title="Returns the checksum for the given ustar format HEADER." alt="" coords="550,584,678,609"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="581,784,646,809"/>
<area shape="rect" href="ustar_8c.html#ae29bd8874ee5cbfa8768535d1ff25f7f" title="Drop possibly dangerous prefixes from FILE_NAME and return the stripped name." alt="" coords="532,633,696,659"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="584,683,644,708"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="755,733,809,759"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="746,849,818,875"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="869,899,985,924"/>
<area shape="rect" href="string_8c.html#a19c6163b9e87b586f4ddb7773faf9172" title="Find the first differing byte in the two blocks of SIZE bytes at A and B." alt="" coords="744,584,820,609"/>
<area shape="rect" href="string_8c.html#a7dc39cb18df6441ab248648041ad4f9d" title="Finds and returns the first occurrence of C in STRING, or a null pointer if C does not appear in STRI..." alt="" coords="754,633,809,659"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="751,535,812,560"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="746,683,818,708"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a95557238bd1ce1ece7c3859eff9888dc_icgraph.png" border="0" usemap="#tar_8c_a95557238bd1ce1ece7c3859eff9888dc_icgraph" alt=""/></div>
<map name="tar_8c_a95557238bd1ce1ece7c3859eff9888dc_icgraph" id="tar_8c_a95557238bd1ce1ece7c3859eff9888dc_icgraph">
<area shape="rect" title=" " alt="" coords="416,5,560,31"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="279,5,368,31"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="106,5,229,31"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="104,55,231,80"/>
<area shape="rect" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,55,56,80"/>
</map>
</div>

</div>
</div>
<a id="aed54c3c43e1f39c75bd51bf2b7107c6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed54c3c43e1f39c75bd51bf2b7107c6b">&#9670;&nbsp;</a></span>do_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> do_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>write_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00195">195</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="input_8c_source.html#l00007">buffer</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="lib_2user_2syscall_8c_source.html#l00121">write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tar_8c_source.html#l00124">archive_ordinary_file()</a>, <a class="el" href="tar_8c_source.html#l00049">make_tar_archive()</a>, and <a class="el" href="tar_8c_source.html#l00186">write_header()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_cgraph.png" border="0" usemap="#tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_cgraph" alt=""/></div>
<map name="tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_cgraph" id="tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_cgraph">
<area shape="rect" title=" " alt="" coords="5,884,77,909"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="125,859,176,884"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="126,908,175,933"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="224,859,282,884"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="345,132,417,157"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="964,1211,1082,1236"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="797,1312,916,1337"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="330,753,432,779"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="514,132,579,157"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="493,181,600,207"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="497,231,596,256"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="483,33,610,59"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="516,83,577,108"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="661,181,749,207"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="677,33,733,59"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1882,1269,1972,1295"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1174,1085,1270,1111"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1362,1244,1510,1283"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1715,1067,1823,1092"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1389,965,1482,991"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1889,916,1965,941"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1871,1067,1982,1092"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1725,612,1814,637"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1563,663,1662,688"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1558,916,1667,941"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1564,965,1661,991"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1877,460,1977,485"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1726,663,1813,688"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1736,865,1803,891"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1730,915,1808,940"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="975,1161,1071,1187"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1184,791,1260,816"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1395,865,1476,891"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1385,815,1486,840"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1379,765,1492,791"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="480,649,613,675"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1130,1288,1314,1327"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="662,485,748,511"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1398,181,1473,207"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="823,384,890,409"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="989,359,1056,384"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="819,1111,894,1136"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="819,725,894,751"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="985,409,1060,435"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1186,283,1258,308"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1593,55,1632,80"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1720,80,1818,105"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1593,156,1632,181"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1579,5,1646,31"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1716,207,1822,232"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_icgraph.png" border="0" usemap="#tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_icgraph" alt=""/></div>
<map name="tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_icgraph" id="tar_8c_aed54c3c43e1f39c75bd51bf2b7107c6b_icgraph">
<area shape="rect" title=" " alt="" coords="754,55,826,80"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="416,55,560,80"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="104,5,231,31"/>
<area shape="rect" href="tar_8c.html#aeae922065d4290e3c877a5f3a5d7a824" title=" " alt="" coords="608,105,706,131"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="279,55,368,80"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="106,55,229,80"/>
<area shape="rect" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int argc   &#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00015">15</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="lib_2user_2syscall_8h_source.html#l00020">EXIT_FAILURE</a>, <a class="el" href="lib_2user_2syscall_8h_source.html#l00019">EXIT_SUCCESS</a>, <a class="el" href="tar_8c_source.html#l00049">make_tar_archive()</a>, and <a class="el" href="tar_8c_source.html#l00025">usage()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#tar_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="tar_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="tar_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" title=" " alt="" coords="5,473,56,498"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="104,270,231,295"/>
<area shape="rect" href="tar_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="tar.c" alt="" coords="138,650,196,675"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="279,346,368,371"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="999,498,1050,523"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="789,295,860,321"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="994,22,1054,47"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a5bbe56a416af8f77723b652362f742f7" title=" " alt="" coords="462,143,514,169"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a703a13bc53a317ea70b87280ad3d974e" title=" " alt="" coords="462,194,513,219"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="294,245,352,270"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="426,445,549,470"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="416,243,560,269"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7e7eb2098a672ca4e4bf2a95b11d1aee" title="lib/user/syscall.h" alt="" coords="453,395,523,421"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#aad8fb521859618a34294cb6b71e92209" title=" " alt="" coords="465,346,511,371"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a0aa847a91eaead434f068da636ec821f" title=" " alt="" coords="626,447,689,473"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="1163,171,1217,197"/>
<area shape="rect" href="tar_8c.html#aeae922065d4290e3c877a5f3a5d7a824" title=" " alt="" coords="608,245,706,270"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1161,498,1219,523"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="1289,265,1361,290"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1431,446,1550,471"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="1431,523,1550,549"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1274,617,1376,642"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1458,215,1523,241"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1437,314,1544,339"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1441,363,1540,389"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1427,265,1554,290"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1460,166,1521,191"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1653,314,1741,339"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="1669,265,1725,290"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="2042,473,2132,498"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1649,363,1745,389"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1837,409,1985,447"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="2033,307,2141,333"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1864,307,1957,333"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1649,523,1745,549"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1873,523,1949,549"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1424,659,1557,685"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1605,625,1789,663"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1654,737,1740,762"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1659,687,1735,713"/>
<area shape="rect" href="ustar_8c.html#a7df8da167076821f714ddcf58700a26b" title="Composes HEADER as a USTAR_HEADER_SIZE (512)&#45;byte archive header in ustar format for a SIZE&#45;byte file..." alt="" coords="754,197,894,222"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="999,321,1049,346"/>
<area shape="rect" href="ustar_8c.html#a4abd06a3432f80c53d46dfa9fdf6204a" title="Returns the checksum for the given ustar format HEADER." alt="" coords="961,222,1088,247"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="990,71,1059,97"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="992,271,1057,297"/>
<area shape="rect" href="ustar_8c.html#ae29bd8874ee5cbfa8768535d1ff25f7f" title="Drop possibly dangerous prefixes from FILE_NAME and return the stripped name." alt="" coords="942,121,1106,146"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="1154,22,1226,47"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a2aff9d03d32ff7fbc2885fdb1a1b8deb" title=" " alt="" coords="626,143,688,169"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#ab0f9f22d375a9229b3c77859cf2035a0" title=" " alt="" coords="633,94,681,119"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a55e99c539cf7723ec15e856b7e0a8cee" title=" " alt="" coords="302,650,344,675"/>
</map>
</div>

</div>
</div>
<a id="a5758c0d6627e2210b6e18ec360169e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5758c0d6627e2210b6e18ec360169e91">&#9670;&nbsp;</a></span>make_tar_archive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> make_tar_archive </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>archive_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>files</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>file_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00049">49</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="tar_8c_source.html#l00089">archive_file()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00139">close()</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00091">create()</a>, <a class="el" href="tar_8c_source.html#l00195">do_write()</a>, <a class="el" href="syn-read_8h_source.html#l00005">file_name</a>, <a class="el" href="lib_2user_2syscall_8c_source.html#l00103">open()</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="string_8c_source.html#l00326">strlcpy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tar_8c_source.html#l00015">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a5758c0d6627e2210b6e18ec360169e91_cgraph.png" border="0" usemap="#tar_8c_a5758c0d6627e2210b6e18ec360169e91_cgraph" alt=""/></div>
<map name="tar_8c_a5758c0d6627e2210b6e18ec360169e91_cgraph" id="tar_8c_a5758c0d6627e2210b6e18ec360169e91_cgraph">
<area shape="rect" title=" " alt="" coords="5,460,133,485"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="181,311,269,336"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="900,387,951,412"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="690,511,762,536"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="896,5,956,31"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a5bbe56a416af8f77723b652362f742f7" title=" " alt="" coords="363,409,416,435"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a703a13bc53a317ea70b87280ad3d974e" title=" " alt="" coords="364,460,415,485"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a352dd80fdc4fdb4689aac9555fe28202" title=" " alt="" coords="196,663,254,688"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="328,157,451,183"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="317,360,462,385"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7e7eb2098a672ca4e4bf2a95b11d1aee" title="lib/user/syscall.h" alt="" coords="355,261,424,287"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#aad8fb521859618a34294cb6b71e92209" title=" " alt="" coords="367,311,412,336"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a0aa847a91eaead434f068da636ec821f" title=" " alt="" coords="528,107,590,132"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="1067,56,1121,81"/>
<area shape="rect" href="tar_8c.html#aeae922065d4290e3c877a5f3a5d7a824" title=" " alt="" coords="510,259,608,284"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1065,387,1123,412"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="1195,256,1267,281"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1337,539,1456,564"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="1337,412,1456,437"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1180,356,1282,381"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="1364,256,1430,281"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="1343,305,1450,331"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="1347,157,1446,183"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="1333,108,1460,133"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="1366,207,1427,232"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1559,179,1647,204"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="1575,108,1631,133"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1948,513,2038,539"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1555,628,1651,653"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1743,564,1891,603"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1939,679,2047,704"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1770,679,1864,704"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1555,463,1651,488"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1779,463,1855,488"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1330,355,1463,380"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1511,348,1695,387"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1560,299,1646,324"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1565,249,1641,275"/>
<area shape="rect" href="ustar_8c.html#a7df8da167076821f714ddcf58700a26b" title="Composes HEADER as a USTAR_HEADER_SIZE (512)&#45;byte archive header in ustar format for a SIZE&#45;byte file..." alt="" coords="656,157,796,183"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="901,511,951,536"/>
<area shape="rect" href="ustar_8c.html#a4abd06a3432f80c53d46dfa9fdf6204a" title="Returns the checksum for the given ustar format HEADER." alt="" coords="862,207,990,232"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="892,307,960,332"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="893,256,958,281"/>
<area shape="rect" href="ustar_8c.html#ae29bd8874ee5cbfa8768535d1ff25f7f" title="Drop possibly dangerous prefixes from FILE_NAME and return the stripped name." alt="" coords="844,157,1008,183"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="1058,256,1130,281"/>
<area shape="rect" href="string_8c.html#a19c6163b9e87b586f4ddb7773faf9172" title="Find the first differing byte in the two blocks of SIZE bytes at A and B." alt="" coords="1056,132,1132,157"/>
<area shape="rect" href="string_8c.html#a7dc39cb18df6441ab248648041ad4f9d" title="Finds and returns the first occurrence of C in STRING, or a null pointer if C does not appear in STRI..." alt="" coords="1066,181,1121,207"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="1058,5,1130,31"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a2aff9d03d32ff7fbc2885fdb1a1b8deb" title=" " alt="" coords="528,360,590,385"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#ab0f9f22d375a9229b3c77859cf2035a0" title=" " alt="" coords="535,409,583,435"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_a5758c0d6627e2210b6e18ec360169e91_icgraph.png" border="0" usemap="#tar_8c_a5758c0d6627e2210b6e18ec360169e91_icgraph" alt=""/></div>
<map name="tar_8c_a5758c0d6627e2210b6e18ec360169e91_icgraph" id="tar_8c_a5758c0d6627e2210b6e18ec360169e91_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,231,31"/>
<area shape="rect" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="ad96d407a911fbb914fa8e4cfbf2faf0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad96d407a911fbb914fa8e4cfbf2faf0f">&#9670;&nbsp;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="tar_8c.html">tar.c</a> </p>
<p>Creates a tar archive. </p>

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00025">25</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="lib_2user_2syscall_8c_source.html#l00072">exit()</a>, <a class="el" href="lib_2user_2syscall_8h_source.html#l00020">EXIT_FAILURE</a>, and <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tar_8c_source.html#l00015">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_cgraph.png" border="0" usemap="#tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_cgraph" alt=""/></div>
<map name="tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_cgraph" id="tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_cgraph">
<area shape="rect" title="tar.c" alt="" coords="5,835,63,860"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a55e99c539cf7723ec15e856b7e0a8cee" title=" " alt="" coords="115,809,158,835"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="111,859,162,884"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="210,859,268,884"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="330,132,403,157"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="949,1211,1068,1236"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="783,1312,901,1337"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="316,753,418,779"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="499,132,565,157"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="479,181,586,207"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="483,231,582,256"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="469,33,596,59"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="502,83,563,108"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="647,181,735,207"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="663,33,719,59"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1868,1269,1958,1295"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1160,1085,1256,1111"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1348,1244,1496,1283"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1701,1067,1809,1092"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1375,965,1468,991"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1875,916,1951,941"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1857,1067,1968,1092"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1710,612,1800,637"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1548,663,1648,688"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1544,916,1653,941"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1550,965,1647,991"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1862,460,1963,485"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1712,663,1799,688"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1722,865,1789,891"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1716,915,1794,940"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="961,1161,1057,1187"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1170,791,1246,816"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1381,865,1462,891"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1371,815,1472,840"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1365,765,1478,791"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="466,649,599,675"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1116,1288,1300,1327"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="648,485,734,511"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1384,181,1459,207"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="809,384,876,409"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="975,359,1042,384"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="805,1111,880,1136"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="805,725,880,751"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="971,409,1046,435"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1172,283,1244,308"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1579,55,1618,80"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1706,80,1804,105"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1579,156,1618,181"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1565,5,1632,31"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1702,207,1808,232"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_icgraph.png" border="0" usemap="#tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_icgraph" alt=""/></div>
<map name="tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_icgraph" id="tar_8c_ad96d407a911fbb914fa8e4cfbf2faf0f_icgraph">
<area shape="rect" title="tar.c" alt="" coords="104,5,161,31"/>
<area shape="rect" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="aeae922065d4290e3c877a5f3a5d7a824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae922065d4290e3c877a5f3a5d7a824">&#9670;&nbsp;</a></span>write_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> write_header </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="ustar_8h.html#a568552540e7f88c695b72c238c009837">ustar_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>archive_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>write_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="tar_8c_source.html#l00186">186</a> of file <a class="el" href="tar_8c_source.html">tar.c</a>.</p>

<p class="reference">References <a class="el" href="tar_8c_source.html#l00195">do_write()</a>, <a class="el" href="syn-read_8h_source.html#l00005">file_name</a>, and <a class="el" href="ustar_8c_source.html#l00083">ustar_make_header()</a>.</p>

<p class="reference">Referenced by <a class="el" href="tar_8c_source.html#l00160">archive_directory()</a>, and <a class="el" href="tar_8c_source.html#l00124">archive_ordinary_file()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_aeae922065d4290e3c877a5f3a5d7a824_cgraph.png" border="0" usemap="#tar_8c_aeae922065d4290e3c877a5f3a5d7a824_cgraph" alt=""/></div>
<map name="tar_8c_aeae922065d4290e3c877a5f3a5d7a824_cgraph" id="tar_8c_aeae922065d4290e3c877a5f3a5d7a824_cgraph">
<area shape="rect" title=" " alt="" coords="5,791,104,816"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="186,740,258,766"/>
<area shape="rect" href="ustar_8c.html#a7df8da167076821f714ddcf58700a26b" title="Composes HEADER as a USTAR_HEADER_SIZE (512)&#45;byte archive header in ustar format for a SIZE&#45;byte file..." alt="" coords="152,866,292,891"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="396,740,447,766"/>
<area shape="rect" href="lib_2user_2syscall_8c.html#a7d9f2533bbf31e3d1d4c5e1454efd41d" title=" " alt="" coords="397,691,446,716"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="561,740,618,766"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="698,960,771,986"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="846,708,964,734"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="675,759,794,784"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="684,607,786,632"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="872,911,938,936"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="852,1010,959,1035"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="856,960,955,986"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="842,1059,968,1084"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="875,1108,936,1134"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="1039,986,1127,1011"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="1055,1059,1111,1084"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1634,691,1725,716"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1035,658,1131,683"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1429,674,1577,712"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1625,471,1734,496"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1243,420,1336,446"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1799,346,1875,371"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1782,471,1893,496"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1635,142,1724,167"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1453,116,1553,142"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1449,319,1558,344"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1455,471,1552,496"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="857,607,953,632"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1045,243,1121,268"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1249,267,1330,292"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1239,316,1340,342"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1233,218,1346,243"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1016,118,1150,143"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1198,543,1381,582"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="1247,66,1332,91"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1252,16,1327,42"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="1470,67,1537,92"/>
<area shape="rect" href="ustar_8c.html#a4abd06a3432f80c53d46dfa9fdf6204a" title="Returns the checksum for the given ustar format HEADER." alt="" coords="358,891,485,916"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="387,940,456,966"/>
<area shape="rect" href="lib_2stdio_8c.html#a913035b9a30cd1b34c5e587dfbf26f92" title="Like printf(), except that output is stored into BUFFER, which must have space for BUF_SIZE character..." alt="" coords="389,990,454,1015"/>
<area shape="rect" href="ustar_8c.html#ae29bd8874ee5cbfa8768535d1ff25f7f" title="Drop possibly dangerous prefixes from FILE_NAME and return the stripped name." alt="" coords="340,1052,503,1078"/>
<area shape="rect" href="string_8c.html#a4637af6f79bac4043e1064f0837d0ddc" title="Copies string SRC to DST." alt="" coords="392,790,451,815"/>
<area shape="rect" href="string_8c.html#a2869404e70f06f4477271f26ce8c4920" title="Returns the length of STRING." alt="" coords="562,840,616,866"/>
<area shape="rect" href="lib_2stdio_8c.html#a1286c6b071007938f54e9b859109f89d" title="Like vprintf(), except that output is stored into BUFFER, which must have space for BUF_SIZE characte..." alt="" coords="554,978,625,1003"/>
<area shape="rect" href="lib_2stdio_8c.html#acdff2b19969329b7777564346ac98c5d" title="Helper function for vsnprintf()." alt="" coords="677,1010,793,1035"/>
<area shape="rect" href="string_8c.html#a19c6163b9e87b586f4ddb7773faf9172" title="Find the first differing byte in the two blocks of SIZE bytes at A and B." alt="" coords="551,1126,627,1151"/>
<area shape="rect" href="string_8c.html#a7dc39cb18df6441ab248648041ad4f9d" title="Finds and returns the first occurrence of C in STRING, or a null pointer if C does not appear in STRI..." alt="" coords="562,1027,617,1052"/>
<area shape="rect" href="string_8c.html#ae99b71772ffcf066739c8568013425e3" title="Finds the first differing characters in strings A and B." alt="" coords="559,1076,620,1102"/>
<area shape="rect" href="string_8c.html#ac81277697db3331c21cac338b661817a" title="Copies SIZE bytes from SRC to DST, which must not overlap." alt="" coords="554,790,625,815"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tar_8c_aeae922065d4290e3c877a5f3a5d7a824_icgraph.png" border="0" usemap="#tar_8c_aeae922065d4290e3c877a5f3a5d7a824_icgraph" alt=""/></div>
<map name="tar_8c_aeae922065d4290e3c877a5f3a5d7a824_icgraph" id="tar_8c_aeae922065d4290e3c877a5f3a5d7a824_icgraph">
<area shape="rect" title=" " alt="" coords="608,31,706,56"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="426,5,549,31"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="416,55,560,80"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="279,5,368,31"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="104,5,231,31"/>
<area shape="rect" href="tar_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 22 2019 10:19:17 for CS318 - Pintos by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
