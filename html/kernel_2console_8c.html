<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CS318 - Pintos: src/lib/kernel/console.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CS318 - Pintos
   </div>
   <div id="projectbrief">Pintos source browser for JHU CS318 course</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="dir_aacc57352be93005f1637def10ec3f77.html">kernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">console.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="console_8h_source.html">console.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="stdarg_8h_source.html">stdarg.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="kernel_2stdio_8h_source.html">stdio.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="serial_8h_source.html">devices/serial.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vga_8h_source.html">devices/vga.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="init_8h_source.html">threads/init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="interrupt_8h_source.html">threads/interrupt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="synch_8h_source.html">threads/synch.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for console.c:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c__incl.png" border="0" usemap="#src_2lib_2kernel_2console_8c" alt=""/></div>
<map name="src_2lib_2kernel_2console_8c" id="src_2lib_2kernel_2console_8c">
<area shape="rect" title=" " alt="" coords="246,5,403,31"/>
<area shape="rect" href="console_8h.html" title=" " alt="" coords="5,79,84,104"/>
<area shape="rect" href="stdarg_8h.html" title=" " alt="" coords="107,79,177,104"/>
<area shape="rect" href="kernel_2stdio_8h.html" title=" " alt="" coords="201,79,262,104"/>
<area shape="rect" href="serial_8h.html" title=" " alt="" coords="61,152,174,177"/>
<area shape="rect" href="vga_8h.html" title=" " alt="" coords="578,79,681,104"/>
<area shape="rect" href="init_8h.html" title=" " alt="" coords="352,152,449,177"/>
<area shape="rect" href="interrupt_8h.html" title=" " alt="" coords="198,152,328,177"/>
<area shape="rect" href="synch_8h.html" title=" " alt="" coords="439,79,554,104"/>
<area shape="rect" href="stdint_8h.html" title=" " alt="" coords="231,225,295,251"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="319,225,389,251"/>
<area shape="rect" href="stdbool_8h.html" title=" " alt="" coords="505,225,581,251"/>
<area shape="rect" href="stddef_8h.html" title=" " alt="" coords="413,225,482,251"/>
<area shape="rect" href="list_8h.html" title=" " alt="" coords="473,152,522,177"/>
</map>
</div>
</div>
<p><a href="kernel_2console_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ada83ac3a119c57c68d54ab7a5c805de3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3">vprintf_helper</a> (char c, void *char_cnt_)</td></tr>
<tr class="memdesc:ada83ac3a119c57c68d54ab7a5c805de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a>.  <a href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3">More...</a><br /></td></tr>
<tr class="separator:ada83ac3a119c57c68d54ab7a5c805de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d98987075545c56db87c51597a04bdd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd">putchar_have_lock</a> (<a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> c)</td></tr>
<tr class="memdesc:a5d98987075545c56db87c51597a04bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes C to the vga display and serial port.  <a href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd">More...</a><br /></td></tr>
<tr class="separator:a5d98987075545c56db87c51597a04bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acadd2a5d99d952e55a4580dbc8f8739d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#acadd2a5d99d952e55a4580dbc8f8739d">console_init</a> (void)</td></tr>
<tr class="memdesc:acadd2a5d99d952e55a4580dbc8f8739d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable console locking.  <a href="kernel_2console_8c.html#acadd2a5d99d952e55a4580dbc8f8739d">More...</a><br /></td></tr>
<tr class="separator:acadd2a5d99d952e55a4580dbc8f8739d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8866fa73f5cbadd81cd251891d5f20f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a8866fa73f5cbadd81cd251891d5f20f6">console_panic</a> (void)</td></tr>
<tr class="memdesc:a8866fa73f5cbadd81cd251891d5f20f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies the console that a kernel panic is underway, which warns it to avoid trying to take the console lock from now on.  <a href="kernel_2console_8c.html#a8866fa73f5cbadd81cd251891d5f20f6">More...</a><br /></td></tr>
<tr class="separator:a8866fa73f5cbadd81cd251891d5f20f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0535ab189f0f409b481df0df4a4e460b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b">console_print_stats</a> (void)</td></tr>
<tr class="memdesc:a0535ab189f0f409b481df0df4a4e460b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints console statistics.  <a href="kernel_2console_8c.html#a0535ab189f0f409b481df0df4a4e460b">More...</a><br /></td></tr>
<tr class="separator:a0535ab189f0f409b481df0df4a4e460b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b6a57a329ae666df343a081a51e7a5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5">acquire_console</a> (void)</td></tr>
<tr class="memdesc:a69b6a57a329ae666df343a081a51e7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires the console lock.  <a href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5">More...</a><br /></td></tr>
<tr class="separator:a69b6a57a329ae666df343a081a51e7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2f2e53045fdaa51273a6e45cc63044"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044">release_console</a> (void)</td></tr>
<tr class="memdesc:ace2f2e53045fdaa51273a6e45cc63044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the console lock.  <a href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044">More...</a><br /></td></tr>
<tr class="separator:ace2f2e53045fdaa51273a6e45cc63044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9311ca129f215c0c8c07cd095a72f2f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f">console_locked_by_current_thread</a> (void)</td></tr>
<tr class="memdesc:ac9311ca129f215c0c8c07cd095a72f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the current thread has the console lock, false otherwise.  <a href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f">More...</a><br /></td></tr>
<tr class="separator:ac9311ca129f215c0c8c07cd095a72f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae4ab8b56862ed0a04505cafb8a05112"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112">vprintf</a> (const char *format, <a class="el" href="stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a> args)</td></tr>
<tr class="memdesc:aae4ab8b56862ed0a04505cafb8a05112"><td class="mdescLeft">&#160;</td><td class="mdescRight">The standard <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a> function, which is like <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> but uses a va_list.  <a href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112">More...</a><br /></td></tr>
<tr class="separator:aae4ab8b56862ed0a04505cafb8a05112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41876f99f190c7488e64ef39c50a23f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f">puts</a> (const char *<a class="el" href="random_8c.html#affc3a5a328a5817ad2aa41ef50241b6c">s</a>)</td></tr>
<tr class="memdesc:ad41876f99f190c7488e64ef39c50a23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes string S to the console, followed by a new-line character.  <a href="kernel_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f">More...</a><br /></td></tr>
<tr class="separator:ad41876f99f190c7488e64ef39c50a23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6912abfdc7e2b2345da944f82cb8305b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b">putbuf</a> (const char *<a class="el" href="input_8c.html#a02352b0fa3692f7c9029b2e12edcdbb6">buffer</a>, <a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a> n)</td></tr>
<tr class="memdesc:a6912abfdc7e2b2345da944f82cb8305b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the N characters in BUFFER to the console.  <a href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b">More...</a><br /></td></tr>
<tr class="separator:a6912abfdc7e2b2345da944f82cb8305b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4de2514b7778805db3815e8dd6cf09a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a">putchar</a> (int c)</td></tr>
<tr class="memdesc:af4de2514b7778805db3815e8dd6cf09a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes C to the vga display and serial port.  <a href="kernel_2console_8c.html#af4de2514b7778805db3815e8dd6cf09a">More...</a><br /></td></tr>
<tr class="separator:af4de2514b7778805db3815e8dd6cf09a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7fb5294408703b8fe8fd28fade1c7e97"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structlock.html">lock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a7fb5294408703b8fe8fd28fade1c7e97">console_lock</a></td></tr>
<tr class="memdesc:a7fb5294408703b8fe8fd28fade1c7e97"><td class="mdescLeft">&#160;</td><td class="mdescRight">The console lock.  <a href="kernel_2console_8c.html#a7fb5294408703b8fe8fd28fade1c7e97">More...</a><br /></td></tr>
<tr class="separator:a7fb5294408703b8fe8fd28fade1c7e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b18e6072b6f8c7e909b2cd99ed0baf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a11b18e6072b6f8c7e909b2cd99ed0baf">use_console_lock</a></td></tr>
<tr class="memdesc:a11b18e6072b6f8c7e909b2cd99ed0baf"><td class="mdescLeft">&#160;</td><td class="mdescRight">True in ordinary circumstances: we want to use the console lock to avoid mixing output between threads, as explained above.  <a href="kernel_2console_8c.html#a11b18e6072b6f8c7e909b2cd99ed0baf">More...</a><br /></td></tr>
<tr class="separator:a11b18e6072b6f8c7e909b2cd99ed0baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4ae2e6366de8f8f54ff63baed8efef"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#a7b4ae2e6366de8f8f54ff63baed8efef">console_lock_depth</a></td></tr>
<tr class="memdesc:a7b4ae2e6366de8f8f54ff63baed8efef"><td class="mdescLeft">&#160;</td><td class="mdescRight">It's possible, if you add enough debug output to Pintos, to try to recursively grab console_lock from a single thread.  <a href="kernel_2console_8c.html#a7b4ae2e6366de8f8f54ff63baed8efef">More...</a><br /></td></tr>
<tr class="separator:a7b4ae2e6366de8f8f54ff63baed8efef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc7814fee36c7b7b592b43533653435"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_2console_8c.html#aacc7814fee36c7b7b592b43533653435">write_cnt</a></td></tr>
<tr class="memdesc:aacc7814fee36c7b7b592b43533653435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of characters written to console.  <a href="kernel_2console_8c.html#aacc7814fee36c7b7b592b43533653435">More...</a><br /></td></tr>
<tr class="separator:aacc7814fee36c7b7b592b43533653435"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a69b6a57a329ae666df343a081a51e7a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b6a57a329ae666df343a081a51e7a5">&#9670;&nbsp;</a></span>acquire_console()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void acquire_console </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires the console lock. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00088">88</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="kernel_2console_8c_source.html#l00057">console_lock_depth</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="synch_8c_source.html#l00193">lock_acquire()</a>, <a class="el" href="synch_8c_source.html#l00242">lock_held_by_current_thread()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00153">putbuf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00163">putchar()</a>, <a class="el" href="kernel_2console_8c_source.html#l00140">puts()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00126">vprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph.png" border="0" usemap="#kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph" alt=""/></div>
<map name="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph" id="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_cgraph">
<area shape="rect" title="Acquires the console lock." alt="" coords="5,291,124,316"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="825,568,915,593"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="172,291,268,316"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="316,5,464,44"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1365,191,1473,216"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="343,568,437,593"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1558,153,1635,179"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1541,316,1652,341"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="1704,316,1821,341"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="660,719,749,744"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="512,668,612,693"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="997,847,1106,872"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="513,517,611,543"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1001,669,1102,695"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="661,669,748,695"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1563,865,1630,891"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1193,847,1270,872"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1380,815,1459,840"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1392,864,1447,889"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="667,315,742,340"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="846,368,893,393"/>
<area shape="rect" href="thread_8c.html#ace7a46dcf0f5c9c4cbb8f47a5b3c76f5" title="Chooses and returns the next thread to be scheduled." alt="" coords="801,467,938,492"/>
<area shape="rect" href="switch_8h.html#aa804e4fa090f4acb6a73b98f64b81cff" title="Switches from CUR, which must be the running thread, to NEXT, which must also be running switch_threa..." alt="" coords="815,267,925,292"/>
<area shape="rect" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ..." alt="" coords="797,417,942,443"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1379,765,1460,791"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1001,620,1102,645"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="1558,765,1635,791"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9b0ec9912b9a1a4d95b47984e0777e66" title="Returns the front element in LIST." alt="" coords="1196,693,1267,719"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9574755a392b556ddb650b8672f9f4af" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="1187,779,1276,804"/>
<area shape="rect" href="palloc_8c.html#ad3fe56f7c611216596e7565fb8521409" title="Frees the page at PAGE." alt="" coords="990,519,1113,544"/>
<area shape="rect" href="process_8c.html#a23823b283ef2815ecc5ae19e772dac24" title="Sets up the CPU for running user code in the current thread." alt="" coords="991,392,1112,417"/>
<area shape="rect" href="palloc_8c.html#af4c2af0e0bdc81d1ea21354c4234b20e" title="Frees the PAGE_CNT pages starting at PAGES." alt="" coords="1161,519,1301,544"/>
<area shape="rect" href="bitmap_8c.html#ab8910020ce78e389457c0607990d04d3" title="Returns true if every bit in B between START and START + CNT, exclusive, is set to true,..." alt="" coords="1378,516,1460,541"/>
<area shape="rect" href="bitmap_8c.html#a7b2eaaf4ee3c0f7794b4e5293f3b9760" title="Sets the CNT bits starting at START in B to VALUE." alt="" coords="1349,467,1489,492"/>
<area shape="rect" href="string_8c.html#ab1e7a2e7d71d61a771b43da7c18fdba6" title="Sets the SIZE bytes in DST to VALUE." alt="" coords="1385,716,1454,741"/>
<area shape="rect" href="palloc_8c.html#a2adf802e51d008838946d621cb4e8fb2" title="Returns true if PAGE was allocated from POOL, false otherwise." alt="" coords="1361,565,1478,591"/>
<area shape="rect" href="vaddr_8h.html#a1efae7b168a7e2234c0e4022d889bdc8" title="Virtual page number." alt="" coords="1567,616,1626,641"/>
<area shape="rect" href="vaddr_8h.html#ac12acb882dfd1a70e6c8f69935dc3747" title="Offset within a page." alt="" coords="1389,667,1450,692"/>
<area shape="rect" href="bitmap_8c.html#a90f5f9e5e7afbd943d0c6c33fc0d8557" title="Returns true if any bits in B between START and START + CNT, exclusive, are set to VALUE,..." alt="" coords="1537,516,1656,541"/>
<area shape="rect" href="bitmap_8c.html#ab8d6660c5e30dab9cecef1240c7423d9" title="Returns the value of the bit numbered IDX in B." alt="" coords="1717,516,1807,541"/>
<area shape="rect" href="bitmap_8c.html#acc12f810fdb7b50a620c3852c3656d63" title="Returns an elem_type where only the bit corresponding to BIT_IDX is turned on." alt="" coords="1869,443,1943,468"/>
<area shape="rect" href="bitmap_8c.html#abb94f95006e0ec6ff6b5c88262f28d74" title="Returns the index of the element that contains the bit numbered BIT_IDX." alt="" coords="1869,492,1943,517"/>
<area shape="rect" href="bitmap_8c.html#a766a7941acc1371fb82ed4f70a1ecf37" title="Setting and testing single bits." alt="" coords="1553,467,1640,492"/>
<area shape="rect" href="bitmap_8c.html#adb8912537854d4a2dcb1f35940a7134b" title="Atomically sets the bit numbered BIT_IDX in B to true." alt="" coords="1713,417,1811,443"/>
<area shape="rect" href="bitmap_8c.html#a5bb6be898ca442c95e725be80c2369a6" title="Atomically sets the bit numbered BIT_IDX in B to false." alt="" coords="1713,467,1811,492"/>
<area shape="rect" href="bitmap_8c.html#a576f7d29f091eac024f70ae8d68997a9" title="Bitmap size." alt="" coords="1550,565,1643,591"/>
<area shape="rect" href="pagedir_8c.html#ac0a75950cc56724fef94d224df4b0cd0" title="Loads page directory PD into the CPU&#39;s page directory base register." alt="" coords="1172,417,1291,443"/>
<area shape="rect" href="tss_8c.html#a089f0d1278964a0cc36f92d47febd2d4" title="Sets the ring 0 stack pointer in the TSS to point to the end of the thread stack." alt="" coords="1188,368,1275,393"/>
<area shape="rect" href="vaddr_8h.html#a0f6ff2f4a18892d83d6e1c1a3c2d9f9b" title="Returns physical address at which kernel virtual address VADDR is mapped." alt="" coords="1396,417,1443,443"/>
<area shape="rect" href="vaddr_8h.html#ad3a451f5e710dfb7831cb7be9a1e04f5" title="Returns true if VADDR is a kernel virtual address." alt="" coords="1539,417,1654,443"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph.png" border="0" usemap="#kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph" alt=""/></div>
<map name="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph" id="kernel_2console_8c_a69b6a57a329ae666df343a081a51e7a5_icgraph">
<area shape="rect" title="Acquires the console lock." alt="" coords="1011,251,1129,276"/>
<area shape="rect" href="kernel_2stdio_8h.html#abc310f2a04745562be1a5b1d2a64a5f8" title="lib/kernel/stdio.h" alt="" coords="904,175,963,200"/>
<area shape="rect" href="stdio_8h.html#a5383753051468b122b02cfab90f262a9" title="Writes C to the vga display and serial port." alt="" coords="790,107,856,132"/>
<area shape="rect" href="stdio_8h.html#ad6eb8da5b318991f44cdd98e20939b7d" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="910,325,957,351"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="905,276,962,301"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="630,107,669,132"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="626,156,673,181"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="626,5,673,31"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="398,81,474,107"/>
<area shape="rect" href="tests_8h.html#a81252bca9c5649cd9bfe7801959c1c2e" title="Runs the test named NAME." alt="" coords="402,156,471,181"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="223,81,274,107"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="387,604,485,629"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="798,1108,849,1133"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="621,2108,678,2133"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="375,719,498,744"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="204,719,293,744"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,908,133,933"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="364,857,508,883"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="607,205,692,231"/>
<area shape="rect" href="block_8h.html#af1e8b4db376000c3c1824b19a3984fbb" title="Statistics." alt="" coords="589,1057,710,1083"/>
<area shape="rect" href="block_8h.html#ab23e50178419646d6627f02eaaf76b4c" title="devices/block.h" alt="" coords="384,1435,488,1460"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="194,1347,303,1372"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="181,1633,316,1659"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="620,1361,679,1387"/>
<area shape="rect" href="console_8h.html#a0535ab189f0f409b481df0df4a4e460b" title="lib/kernel/console.h" alt="" coords="581,1411,718,1436"/>
<area shape="rect" href="debug_8h.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="588,604,711,629"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="609,1460,690,1485"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="614,1008,685,1033"/>
<area shape="rect" href="exception_8h.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="userprog/exception.h" alt="" coords="576,1509,723,1535"/>
<area shape="rect" href="fsutil_8h.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="filesys/fsutil.h" alt="" coords="599,1559,700,1584"/>
<area shape="rect" href="fsutil_8h.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="399,1981,473,2007"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="601,1709,698,1735"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="617,1759,682,1784"/>
<area shape="rect" href="fsutil_8h.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="614,1808,685,1833"/>
<area shape="rect" href="stdio_8h.html#a9d2d9f885841adf2d7ca5186519a9c5e" title="Nonstandard functions." alt="" coords="608,1956,691,1981"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="614,1857,685,1883"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="588,1907,711,1932"/>
<area shape="rect" href="interrupt_8h.html#a68b7d22b2fe6b159e8196d6c2cb35dea" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="588,1159,710,1184"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="417,1159,456,1184"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="207,1184,290,1209"/>
<area shape="rect" href="kbd_8h.html#ab7e600f1f09328e0f6e6e2052cd64181" title="devices/kbd.h" alt="" coords="594,357,705,383"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="620,407,679,432"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="626,456,673,481"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="624,505,675,531"/>
<area shape="rect" href="partition_8h.html#a4fdb0ebb310a02d435b287dd185a6daa" title="devices/partition.h" alt="" coords="384,1659,488,1684"/>
<area shape="rect" href="tests_8h.html#a660b914e4f3ad8cb93d763839e89ff6d" title="tests/threads/tests.h" alt="" coords="625,555,674,580"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="396,793,477,819"/>
<area shape="rect" href="stdio_8h.html#aad0164b705303d03578895ae938e07ba" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="556,1608,742,1633"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="592,959,707,984"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="578,756,721,781"/>
</map>
</div>

</div>
</div>
<a id="acadd2a5d99d952e55a4580dbc8f8739d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acadd2a5d99d952e55a4580dbc8f8739d">&#9670;&nbsp;</a></span>console_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void console_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable console locking. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00064">64</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="synch_8c_source.html#l00176">lock_init()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="init_8c_source.html#l00073">pintos_init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph.png" border="0" usemap="#kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph" alt=""/></div>
<map name="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph" id="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_cgraph">
<area shape="rect" title="Enable console locking." alt="" coords="5,5,97,31"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="145,5,215,31"/>
<area shape="rect" href="synch_8c.html#a1349a31f4880cf4eae026761f0ab3343" title="This file is derived from source code for the Nachos instructional operating system." alt="" coords="263,5,341,31"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a8aa862d10f52f7b0348fce990c7c12db" title="Initializes LIST as an empty list." alt="" coords="389,5,451,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph.png" border="0" usemap="#kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph" alt=""/></div>
<map name="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph" id="kernel_2console_8c_acadd2a5d99d952e55a4580dbc8f8739d_icgraph">
<area shape="rect" title="Enable console locking." alt="" coords="135,5,226,31"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,5,87,31"/>
</map>
</div>

</div>
</div>
<a id="ac9311ca129f215c0c8c07cd095a72f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9311ca129f215c0c8c07cd095a72f2f">&#9670;&nbsp;</a></span>console_locked_by_current_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> console_locked_by_current_thread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the current thread has the console lock, false otherwise. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00115">115</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="synch_8c_source.html#l00242">lock_held_by_current_thread()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph.png" border="0" usemap="#kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph" alt=""/></div>
<map name="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph" id="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_cgraph">
<area shape="rect" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="5,27,189,65"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="266,5,356,31"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="237,55,385,93"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="433,61,541,87"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="607,36,683,61"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="589,85,700,111"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="748,85,865,111"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph.png" border="0" usemap="#kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph" alt=""/></div>
<map name="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph" id="kernel_2console_8c_ac9311ca129f215c0c8c07cd095a72f2f_icgraph">
<area shape="rect" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1256,81,1440,120"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="1075,88,1208,113"/>
<area shape="rect" href="kernel_2stdio_8h.html#abc310f2a04745562be1a5b1d2a64a5f8" title="lib/kernel/stdio.h" alt="" coords="946,12,1005,37"/>
<area shape="rect" href="stdio_8h.html#a5383753051468b122b02cfab90f262a9" title="Writes C to the vga display and serial port." alt="" coords="705,56,771,81"/>
<area shape="rect" href="stdio_8h.html#ad6eb8da5b318991f44cdd98e20939b7d" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="952,113,999,139"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="925,176,1027,201"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="564,107,603,132"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="560,157,607,183"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="560,5,607,31"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="352,120,428,145"/>
<area shape="rect" href="tests_8h.html#a81252bca9c5649cd9bfe7801959c1c2e" title="Runs the test named NAME." alt="" coords="355,233,424,259"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="189,296,261,321"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="200,120,250,145"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="819,201,877,227"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="341,608,438,633"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="713,1063,764,1088"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="555,259,612,284"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="328,761,451,787"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="181,761,269,787"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,861,133,887"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="317,811,462,836"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="541,308,626,333"/>
<area shape="rect" href="block_8h.html#af1e8b4db376000c3c1824b19a3984fbb" title="Statistics." alt="" coords="523,911,644,936"/>
<area shape="rect" href="block_8h.html#ab23e50178419646d6627f02eaaf76b4c" title="devices/block.h" alt="" coords="531,1012,636,1037"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="335,987,444,1012"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="322,1063,457,1088"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="554,1113,613,1139"/>
<area shape="rect" href="console_8h.html#a0535ab189f0f409b481df0df4a4e460b" title="lib/kernel/console.h" alt="" coords="515,1163,652,1188"/>
<area shape="rect" href="debug_8h.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="522,659,645,684"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="543,1261,624,1287"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="548,861,619,887"/>
<area shape="rect" href="exception_8h.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="userprog/exception.h" alt="" coords="510,1363,657,1388"/>
<area shape="rect" href="fsutil_8h.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="filesys/fsutil.h" alt="" coords="533,1412,634,1437"/>
<area shape="rect" href="fsutil_8h.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="353,1560,427,1585"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="535,1511,632,1536"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="551,1560,616,1585"/>
<area shape="rect" href="fsutil_8h.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="548,1609,619,1635"/>
<area shape="rect" href="stdio_8h.html#a9d2d9f885841adf2d7ca5186519a9c5e" title="Nonstandard functions." alt="" coords="542,1461,625,1487"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="548,1711,619,1736"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="522,1760,645,1785"/>
<area shape="rect" href="interrupt_8h.html#a68b7d22b2fe6b159e8196d6c2cb35dea" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="522,1861,645,1887"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="370,1861,409,1887"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="183,1887,267,1912"/>
<area shape="rect" href="kbd_8h.html#ab7e600f1f09328e0f6e6e2052cd64181" title="devices/kbd.h" alt="" coords="528,1963,639,1988"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="554,2012,613,2037"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="560,409,607,435"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="558,459,609,484"/>
<area shape="rect" href="partition_8h.html#a4fdb0ebb310a02d435b287dd185a6daa" title="devices/partition.h" alt="" coords="531,1212,636,1237"/>
<area shape="rect" href="tests_8h.html#a660b914e4f3ad8cb93d763839e89ff6d" title="tests/threads/tests.h" alt="" coords="559,508,608,533"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="543,557,624,583"/>
</map>
</div>

</div>
</div>
<a id="a8866fa73f5cbadd81cd251891d5f20f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8866fa73f5cbadd81cd251891d5f20f6">&#9670;&nbsp;</a></span>console_panic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void console_panic </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notifies the console that a kernel panic is underway, which warns it to avoid trying to take the console lock from now on. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00074">74</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2debug_8c_source.html#l00019">debug_panic()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph.png" border="0" usemap="#kernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph" alt=""/></div>
<map name="kernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph" id="kernel_2console_8c_a8866fa73f5cbadd81cd251891d5f20f6_icgraph">
<area shape="rect" title="Notifies the console that a kernel panic is underway, which warns it to avoid trying to take the cons..." alt="" coords="151,5,258,31"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="5,5,103,31"/>
</map>
</div>

</div>
</div>
<a id="a0535ab189f0f409b481df0df4a4e460b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0535ab189f0f409b481df0df4a4e460b">&#9670;&nbsp;</a></span>console_print_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void console_print_stats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints console statistics. </p>
<p><a class="el" href="console_8h.html">lib/kernel/console.h</a> </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00081">81</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00060">write_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="shutdown_8c_source.html#l00129">print_stats()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph.png" border="0" usemap="#kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph" alt=""/></div>
<map name="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph" id="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_cgraph">
<area shape="rect" title="Prints console statistics." alt="" coords="5,279,142,304"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="190,279,241,304"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="289,279,346,304"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="409,153,481,179"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="1028,304,1146,329"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="862,253,980,279"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="394,779,496,804"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="578,203,644,228"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="557,5,665,31"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="561,55,660,80"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="548,104,674,129"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="580,153,642,179"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="726,31,814,56"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="742,104,797,129"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1946,392,2036,417"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="1238,557,1334,583"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1426,392,1574,431"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1780,595,1888,620"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1454,696,1547,721"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1953,696,2029,721"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1936,620,2047,645"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1789,1051,1879,1076"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1627,1000,1727,1025"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1622,797,1732,823"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1628,696,1726,721"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1941,1177,2042,1203"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1790,1000,1877,1025"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1800,797,1867,823"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1795,847,1873,872"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1796,696,1871,721"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="1039,507,1135,532"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="1248,888,1324,913"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1460,780,1541,805"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1449,863,1551,888"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1444,912,1556,937"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="544,991,678,1016"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="1194,291,1378,329"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="727,1203,812,1228"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1462,1493,1538,1519"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="888,1203,954,1228"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="1054,1355,1121,1380"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="883,507,959,532"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="883,977,959,1003"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="1050,1304,1125,1329"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="1250,1405,1322,1431"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1658,1557,1696,1583"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1785,1532,1883,1557"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1658,1607,1696,1632"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1644,1656,1710,1681"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1624,1456,1730,1481"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph.png" border="0" usemap="#kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph" alt=""/></div>
<map name="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph" id="kernel_2console_8c_a0535ab189f0f409b481df0df4a4e460b_icgraph">
<area shape="rect" title="Prints console statistics." alt="" coords="737,81,873,107"/>
<area shape="rect" href="shutdown_8c.html#ab00adda36155b238b8c39dcd96f13cd9" title="Print statistics about Pintos execution." alt="" coords="606,81,689,107"/>
<area shape="rect" href="shutdown_8h.html#a5a3f691cafea75080890d3c921840da7" title="devices/shutdown.h" alt="" coords="414,81,558,107"/>
<area shape="rect" href="shutdown_8h.html#a1c9d5e29ad8899afe0c34571ddee18f9" title="Shuts down the machine in the way configured by shutdown_configure()." alt="" coords="288,56,366,81"/>
<area shape="rect" href="init_8c.html#ad96d407a911fbb914fa8e4cfbf2faf0f" title="Prints a kernel command line help message and powers off the machine." alt="" coords="298,105,356,131"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="138,5,236,31"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,81,87,107"/>
<area shape="rect" href="init_8c.html#a598c2f3a0a33552aa203aa847dc265b6" title="Parses options in ARGV[] and returns the first non&#45;option argument." alt="" coords="135,107,240,132"/>
</map>
</div>

</div>
</div>
<a id="a6912abfdc7e2b2345da944f82cb8305b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6912abfdc7e2b2345da944f82cb8305b">&#9670;&nbsp;</a></span>putbuf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void putbuf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stddef_8h.html#aa9d55e2f20e580b7445617d0d12fff6e">size_t</a>&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the N characters in BUFFER to the console. </p>
<p><a class="el" href="kernel_2stdio_8h.html">lib/kernel/stdio.h</a> </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00153">153</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="input_8c_source.html#l00007">buffer</a>, <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph.png" border="0" usemap="#kernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph" alt=""/></div>
<map name="kernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph" id="kernel_2console_8c_a6912abfdc7e2b2345da944f82cb8305b_cgraph">
<area shape="rect" title="Writes the N characters in BUFFER to the console." alt="" coords="5,317,64,342"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="427,66,545,91"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="112,658,245,683"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="427,317,545,342"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1345,246,1435,271"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="637,399,733,425"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="825,297,973,335"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1179,474,1287,499"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="852,550,946,575"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1352,499,1428,525"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1335,450,1446,475"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1188,1006,1277,1031"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1026,955,1126,981"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1021,499,1131,525"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1027,601,1125,626"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1340,1006,1440,1031"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1189,955,1276,981"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="593,195,777,234"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="293,905,379,930"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="298,1791,374,1817"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="652,1183,718,1209"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="865,854,933,879"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="448,702,524,727"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="448,551,524,577"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="862,1665,936,1690"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="450,1361,522,1386"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="865,1158,933,1183"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="1052,1411,1099,1437"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="860,1259,938,1285"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1052,854,1099,879"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="642,1511,728,1537"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="637,501,733,526"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="657,702,713,727"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="663,653,708,678"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="861,702,937,727"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="1056,1575,1095,1601"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="648,1107,722,1133"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="467,1966,505,1991"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="636,2017,734,2042"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="666,1817,704,1842"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="453,1917,519,1942"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="433,1766,539,1791"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="646,1967,725,1993"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="874,2017,924,2042"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="855,1563,943,1589"/>
<area shape="rect" href="vaddr_8h.html#a4887c2b8a39b091ef5b3eb7465bcc8f7" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="876,1817,922,1842"/>
<area shape="rect" href="string_8c.html#a0af8a99685feb8d49d933589d20268fd" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="643,1918,727,1943"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="854,1462,944,1487"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="640,1462,731,1487"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="634,1767,736,1793"/>
</map>
</div>

</div>
</div>
<a id="af4de2514b7778805db3815e8dd6cf09a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4de2514b7778805db3815e8dd6cf09a">&#9670;&nbsp;</a></span>putchar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int putchar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes C to the vga display and serial port. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00163">163</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="tests_8c_source.html#l00083">fail()</a>, <a class="el" href="tests_8c_source.html#l00067">msg()</a>, <a class="el" href="user_2console_8c_source.html#l00031">puts()</a>, and <a class="el" href="shell_8c_source.html#l00052">read_line()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph.png" border="0" usemap="#kernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph" alt=""/></div>
<map name="kernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph" id="kernel_2console_8c_af4de2514b7778805db3815e8dd6cf09a_icgraph">
<area shape="rect" title="Writes C to the vga display and serial port." alt="" coords="635,80,701,105"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="530,5,568,31"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="526,55,572,80"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="526,104,572,129"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="511,153,587,179"/>
<area shape="rect" href="tests_8h.html#a81252bca9c5649cd9bfe7801959c1c2e" title="Runs the test named NAME." alt="" coords="393,55,463,80"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="273,55,345,80"/>
<area shape="rect" href="init_8c.html#a119afb30b477e7978c504b34450be746" title="Executes all of the actions specified in ARGV[] up to the null pointer sentinel." alt="" coords="135,55,225,80"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="5,55,87,80"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="403,153,453,179"/>
</map>
</div>

</div>
</div>
<a id="a5d98987075545c56db87c51597a04bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d98987075545c56db87c51597a04bdd">&#9670;&nbsp;</a></span>putchar_have_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void putchar_have_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes C to the vga display and serial port. </p>
<p>The caller has already acquired the console lock if appropriate. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00185">185</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="debug_8h_source.html#l00031">ASSERT</a>, <a class="el" href="kernel_2console_8c_source.html#l00115">console_locked_by_current_thread()</a>, <a class="el" href="serial_8c_source.html#l00099">serial_putc()</a>, <a class="el" href="vga_8c_source.html#l00052">vga_putc()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00060">write_cnt</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00153">putbuf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00163">putchar()</a>, <a class="el" href="kernel_2console_8c_source.html#l00140">puts()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00174">vprintf_helper()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph.png" border="0" usemap="#kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph" alt=""/></div>
<map name="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph" id="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_cgraph">
<area shape="rect" title="Writes C to the vga display and serial port." alt="" coords="5,839,139,865"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="474,30,658,69"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="187,839,272,865"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="192,1749,267,1774"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1239,282,1329,307"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="708,142,856,181"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="906,206,1014,231"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1081,206,1158,231"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1064,157,1175,182"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="1225,157,1342,182"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="533,1245,599,1270"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="748,662,815,687"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="336,310,411,335"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1075,991,1164,1017"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="910,991,1010,1017"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="336,459,411,485"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="744,1622,819,1647"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="337,814,409,839"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="748,1219,815,1245"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="936,1331,983,1357"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="743,1269,821,1294"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="925,1219,994,1245"/>
<area shape="rect" href="synch_8c.html#a1349a31f4880cf4eae026761f0ab3343" title="This file is derived from source code for the Nachos instructional operating system." alt="" coords="1080,1219,1159,1245"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1233,763,1334,789"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="936,611,983,637"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="523,510,609,535"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="518,158,614,183"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="518,310,614,335"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="538,359,594,385"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="544,409,589,434"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="735,307,828,333"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1076,611,1163,637"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="744,865,820,890"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="940,1547,979,1573"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="529,763,603,789"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="354,1922,393,1947"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="517,1973,615,1998"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="547,1723,585,1749"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="340,1873,407,1898"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="320,1723,426,1749"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="527,1923,606,1949"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="757,1973,807,1998"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="738,1573,825,1598"/>
<area shape="rect" href="vaddr_8h.html#a4887c2b8a39b091ef5b3eb7465bcc8f7" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="759,1723,805,1749"/>
<area shape="rect" href="string_8c.html#a0af8a99685feb8d49d933589d20268fd" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="524,1874,608,1899"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="736,1421,827,1446"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="521,1333,612,1358"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="515,1773,617,1798"/>
<area shape="rect" href="pit_8c.html#a7dd39bb359cbd638f9134488ab47db4c" title="Configure the given CHANNEL in the PIT." alt="" coords="706,1118,858,1143"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="1062,1774,1177,1799"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph.png" border="0" usemap="#kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph" alt=""/></div>
<map name="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph" id="kernel_2console_8c_a5d98987075545c56db87c51597a04bdd_icgraph">
<area shape="rect" title="Writes C to the vga display and serial port." alt="" coords="1160,119,1293,144"/>
<area shape="rect" href="kernel_2stdio_8h.html#abc310f2a04745562be1a5b1d2a64a5f8" title="lib/kernel/stdio.h" alt="" coords="1032,43,1090,68"/>
<area shape="rect" href="stdio_8h.html#a5383753051468b122b02cfab90f262a9" title="Writes C to the vga display and serial port." alt="" coords="790,55,856,80"/>
<area shape="rect" href="stdio_8h.html#ad6eb8da5b318991f44cdd98e20939b7d" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="1038,193,1084,219"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="1010,144,1112,169"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="630,156,669,181"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="626,107,673,132"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="626,5,673,31"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="398,359,474,384"/>
<area shape="rect" href="tests_8h.html#a81252bca9c5649cd9bfe7801959c1c2e" title="Runs the test named NAME." alt="" coords="402,183,471,208"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="212,245,285,271"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="223,359,274,384"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="904,181,962,207"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="387,557,485,583"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="798,1087,849,1112"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="621,257,678,283"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="375,659,498,684"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="204,709,293,735"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,811,133,836"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="364,760,508,785"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="607,359,692,384"/>
<area shape="rect" href="block_8h.html#af1e8b4db376000c3c1824b19a3984fbb" title="Statistics." alt="" coords="589,1011,710,1036"/>
<area shape="rect" href="block_8h.html#ab23e50178419646d6627f02eaaf76b4c" title="devices/block.h" alt="" coords="384,1112,488,1137"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="194,1087,303,1112"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="181,1188,316,1213"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="620,1315,679,1340"/>
<area shape="rect" href="console_8h.html#a0535ab189f0f409b481df0df4a4e460b" title="lib/kernel/console.h" alt="" coords="581,1364,718,1389"/>
<area shape="rect" href="debug_8h.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="588,608,711,633"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="609,1413,690,1439"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="614,811,685,836"/>
<area shape="rect" href="exception_8h.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="userprog/exception.h" alt="" coords="576,1463,723,1488"/>
<area shape="rect" href="fsutil_8h.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="filesys/fsutil.h" alt="" coords="599,1512,700,1537"/>
<area shape="rect" href="fsutil_8h.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="399,1588,473,1613"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="601,1663,698,1688"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="617,1712,682,1737"/>
<area shape="rect" href="fsutil_8h.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="614,1761,685,1787"/>
<area shape="rect" href="stdio_8h.html#a9d2d9f885841adf2d7ca5186519a9c5e" title="Nonstandard functions." alt="" coords="608,1613,691,1639"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="614,1811,685,1836"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="588,1860,711,1885"/>
<area shape="rect" href="interrupt_8h.html#a68b7d22b2fe6b159e8196d6c2cb35dea" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="588,1961,710,1987"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="417,1961,456,1987"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="207,1987,290,2012"/>
<area shape="rect" href="kbd_8h.html#ab7e600f1f09328e0f6e6e2052cd64181" title="devices/kbd.h" alt="" coords="594,2063,705,2088"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="620,408,679,433"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="626,457,673,483"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="624,507,675,532"/>
<area shape="rect" href="partition_8h.html#a4fdb0ebb310a02d435b287dd185a6daa" title="devices/partition.h" alt="" coords="384,1264,488,1289"/>
<area shape="rect" href="tests_8h.html#a660b914e4f3ad8cb93d763839e89ff6d" title="tests/threads/tests.h" alt="" coords="625,860,674,885"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="609,909,690,935"/>
<area shape="rect" href="stdio_8h.html#aad0164b705303d03578895ae938e07ba" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="556,1163,742,1188"/>
</map>
</div>

</div>
</div>
<a id="ad41876f99f190c7488e64ef39c50a23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad41876f99f190c7488e64ef39c50a23f">&#9670;&nbsp;</a></span>puts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int puts </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes string S to the console, followed by a new-line character. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00140">140</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="ace2f2e53045fdaa51273a6e45cc63044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2f2e53045fdaa51273a6e45cc63044">&#9670;&nbsp;</a></span>release_console()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void release_console </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Releases the console lock. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00101">101</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00018">console_lock</a>, <a class="el" href="kernel_2console_8c_source.html#l00057">console_lock_depth</a>, <a class="el" href="interrupt_8c_source.html#l00212">intr_context()</a>, <a class="el" href="synch_8c_source.html#l00229">lock_release()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00031">use_console_lock</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00153">putbuf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00163">putchar()</a>, <a class="el" href="kernel_2console_8c_source.html#l00140">puts()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00126">vprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph.png" border="0" usemap="#kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph" alt=""/></div>
<map name="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph" id="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_cgraph">
<area shape="rect" title="Releases the console lock." alt="" coords="5,23,124,48"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1002,68,1092,93"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="172,72,268,97"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="316,65,464,104"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="352,219,428,244"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="514,72,622,97"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="690,93,766,119"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="673,44,784,69"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="832,44,949,69"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="845,193,935,219"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="678,143,778,168"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="849,295,931,320"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="518,345,619,371"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="512,193,625,219"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="997,168,1097,193"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="846,143,934,168"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="1008,295,1086,320"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1013,345,1081,371"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9b0ec9912b9a1a4d95b47984e0777e66" title="Returns the front element in LIST." alt="" coords="692,345,764,371"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a9574755a392b556ddb650b8672f9f4af" title="Removes ELEM from its list and returns the element that followed it." alt="" coords="845,445,935,471"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ae2dec7db343c61370bd42b559ecf80bd" title="Returns true if ELEM is an interior element, false otherwise." alt="" coords="1007,445,1086,471"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="673,395,783,420"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="851,396,929,421"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afd128d25023ae454774ad1754af3ee74" title="Returns true if ELEM is a tail, false otherwise." alt="" coords="1019,396,1075,421"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph.png" border="0" usemap="#kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph" alt=""/></div>
<map name="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph" id="kernel_2console_8c_ace2f2e53045fdaa51273a6e45cc63044_icgraph">
<area shape="rect" title="Releases the console lock." alt="" coords="1011,251,1129,276"/>
<area shape="rect" href="kernel_2stdio_8h.html#abc310f2a04745562be1a5b1d2a64a5f8" title="lib/kernel/stdio.h" alt="" coords="904,175,963,200"/>
<area shape="rect" href="stdio_8h.html#a5383753051468b122b02cfab90f262a9" title="Writes C to the vga display and serial port." alt="" coords="790,107,856,132"/>
<area shape="rect" href="stdio_8h.html#ad6eb8da5b318991f44cdd98e20939b7d" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="910,325,957,351"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="905,276,962,301"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="630,107,669,132"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="626,156,673,181"/>
<area shape="rect" href="user_2console_8c.html#ad41876f99f190c7488e64ef39c50a23f" title="Writes string S to the console, followed by a new&#45;line character." alt="" coords="626,5,673,31"/>
<area shape="rect" href="shell_8c.html#ae50f2386b53b64d6827fe6e35958898a" title="Reads a line of input from the user into LINE, which has room for SIZE bytes." alt="" coords="398,81,474,107"/>
<area shape="rect" href="tests_8h.html#a81252bca9c5649cd9bfe7801959c1c2e" title="Runs the test named NAME." alt="" coords="402,156,471,181"/>
<area shape="rect" href="shell_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="223,81,274,107"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="387,604,485,629"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="798,1108,849,1133"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="621,2108,678,2133"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="375,719,498,744"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="204,719,293,744"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="5,908,133,933"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="364,857,508,883"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="607,205,692,231"/>
<area shape="rect" href="block_8h.html#af1e8b4db376000c3c1824b19a3984fbb" title="Statistics." alt="" coords="589,1057,710,1083"/>
<area shape="rect" href="block_8h.html#ab23e50178419646d6627f02eaaf76b4c" title="devices/block.h" alt="" coords="384,1435,488,1460"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="194,1347,303,1372"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="181,1633,316,1659"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="620,1361,679,1387"/>
<area shape="rect" href="console_8h.html#a0535ab189f0f409b481df0df4a4e460b" title="lib/kernel/console.h" alt="" coords="581,1411,718,1436"/>
<area shape="rect" href="debug_8h.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="588,604,711,629"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="609,1460,690,1485"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="614,1008,685,1033"/>
<area shape="rect" href="exception_8h.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="userprog/exception.h" alt="" coords="576,1509,723,1535"/>
<area shape="rect" href="fsutil_8h.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="filesys/fsutil.h" alt="" coords="599,1559,700,1584"/>
<area shape="rect" href="fsutil_8h.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="399,1981,473,2007"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="601,1709,698,1735"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="617,1759,682,1784"/>
<area shape="rect" href="fsutil_8h.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="614,1808,685,1833"/>
<area shape="rect" href="stdio_8h.html#a9d2d9f885841adf2d7ca5186519a9c5e" title="Nonstandard functions." alt="" coords="608,1956,691,1981"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="614,1857,685,1883"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="588,1907,711,1932"/>
<area shape="rect" href="interrupt_8h.html#a68b7d22b2fe6b159e8196d6c2cb35dea" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="588,1159,710,1184"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="417,1159,456,1184"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="207,1184,290,1209"/>
<area shape="rect" href="kbd_8h.html#ab7e600f1f09328e0f6e6e2052cd64181" title="devices/kbd.h" alt="" coords="594,357,705,383"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="620,407,679,432"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="626,456,673,481"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="624,505,675,531"/>
<area shape="rect" href="partition_8h.html#a4fdb0ebb310a02d435b287dd185a6daa" title="devices/partition.h" alt="" coords="384,1659,488,1684"/>
<area shape="rect" href="tests_8h.html#a660b914e4f3ad8cb93d763839e89ff6d" title="tests/threads/tests.h" alt="" coords="625,555,674,580"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="396,793,477,819"/>
<area shape="rect" href="stdio_8h.html#aad0164b705303d03578895ae938e07ba" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="556,1608,742,1633"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="592,959,707,984"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="578,756,721,781"/>
</map>
</div>

</div>
</div>
<a id="aae4ab8b56862ed0a04505cafb8a05112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae4ab8b56862ed0a04505cafb8a05112">&#9670;&nbsp;</a></span>vprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vprintf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdarg_8h.html#af53f622e3b6c080daeb167c1955d7ec1">va_list</a>&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The standard <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a> function, which is like <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> but uses a va_list. </p>
<p>Writes its output to both vga display and serial port. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00126">126</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="lib_2stdio_8c_source.html#l00157">__vprintf()</a>, <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00174">vprintf_helper()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2debug_8c_source.html#l00019">debug_panic()</a>, <a class="el" href="tests_8c_source.html#l00083">fail()</a>, <a class="el" href="tests_8c_source.html#l00067">msg()</a>, <a class="el" href="lib_2stdio_8c_source.html#l00079">printf()</a>, and <a class="el" href="insult_8c_source.html#l00249">usage()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph.png" border="0" usemap="#kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph" alt=""/></div>
<map name="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph" id="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_cgraph">
<area shape="rect" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="5,277,63,303"/>
<area shape="rect" href="lib_2stdio_8c.html#a54580ccfcedfa31b4b384cacc8966519" title="Internal functions." alt="" coords="126,153,198,179"/>
<area shape="rect" href="kernel_2console_8c.html#a69b6a57a329ae666df343a081a51e7a5" title="Acquires the console lock." alt="" coords="745,460,863,485"/>
<area shape="rect" href="kernel_2console_8c.html#ace2f2e53045fdaa51273a6e45cc63044" title="Releases the console lock." alt="" coords="578,303,697,328"/>
<area shape="rect" href="kernel_2console_8c.html#ada83ac3a119c57c68d54ab7a5c805de3" title="Helper function for vprintf()." alt="" coords="111,252,213,277"/>
<area shape="rect" href="lib_2stdio_8c.html#a1759795abada0ce655326c0754a46c96" title="Wrapper for __vprintf() that converts varargs into a va_list." alt="" coords="295,153,361,179"/>
<area shape="rect" href="lib_2stdio_8c.html#afe54765b33c418c6ceeaea8cc30eea9a" title="Performs an integer conversion, writing output to OUTPUT with auxiliary data AUX." alt="" coords="274,203,381,228"/>
<area shape="rect" href="lib_2stdio_8c.html#afb7ef1a1027f82aa276d48354a0b9218" title="Formats the LENGTH characters starting at STRING according to the conversion specified in C." alt="" coords="278,55,377,80"/>
<area shape="rect" href="lib_2stdio_8c.html#a6b06e855119acdd96dbc1bf3336cd2c7" title="Parses conversion option characters starting at FORMAT and initializes C appropriately." alt="" coords="264,5,391,31"/>
<area shape="rect" href="string_8c.html#a0862027ba42b443d4ce8ff4a0d9b6459" title="If STRING is less than MAXLEN characters in length, returns its actual length." alt="" coords="297,104,358,129"/>
<area shape="rect" href="lib_2stdio_8c.html#a9248d4643c7dd4c03f632fb1ce2b9d5f" title="Writes CH to OUTPUT with auxiliary data AUX, CNT times." alt="" coords="442,75,530,100"/>
<area shape="rect" href="ctype_8h.html#ad7fd5ce3790b81c86de5502ff6853f3a" title=" " alt="" coords="459,5,514,31"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1663,433,1753,459"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="955,599,1051,624"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="1143,484,1291,523"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1497,687,1605,712"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="1170,737,1264,763"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1670,788,1746,813"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1653,712,1764,737"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="1812,712,1929,737"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1506,1041,1595,1067"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1344,940,1444,965"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a997639d9e16bed1f4a450c0bdf7959ba" title="Inserts ELEM at the end of LIST, so that it becomes the back in LIST." alt="" coords="1339,1092,1449,1117"/>
<area shape="rect" href="thread_8c.html#ad70c4eeb51cd5b0ce2abb939924c7469" title="Puts the current thread to sleep." alt="" coords="1345,737,1443,763"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1658,1193,1758,1219"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1507,891,1594,916"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a0769702e25e1739befbbd453d9fc73bf" title="Returns LIST&#39;s tail." alt="" coords="1517,1143,1584,1168"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a57866ab170795aa4191fa14fa1c39dd3" title="Inserts ELEM just before BEFORE, which may be either an interior element or a tail." alt="" coords="1512,1092,1589,1117"/>
<area shape="rect" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process." alt="" coords="1513,788,1588,813"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="756,603,852,628"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="965,1067,1041,1092"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#a5591fb615fa4861afb657609792b0777" title="Returns true if LIST is empty, false otherwise." alt="" coords="1176,1143,1258,1168"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#afb61f0ab134a52505ed89bc2d1024165" title="Removes the front element from LIST and returns it." alt="" coords="1166,991,1268,1016"/>
<area shape="rect" href="thread_8c.html#a0cd30c260607aec4597c5b613c5e013f" title="Transitions a blocked thread T to the ready&#45;to&#45;run state." alt="" coords="1161,1092,1273,1117"/>
<area shape="rect" href="lib_2kernel_2list_8c.html#ab1b18b2991e80f9e1005acd6f1bfbb2a" title="Returns the beginning of LIST." alt="" coords="1355,1193,1433,1219"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="261,252,394,277"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="911,217,1095,256"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="443,1249,529,1275"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="1179,173,1255,199"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="604,1249,671,1275"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="770,1459,838,1484"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="600,653,675,679"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="600,884,675,909"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="767,1408,841,1433"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="967,1548,1039,1573"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="1374,81,1413,107"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="1501,56,1600,81"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="1374,131,1413,156"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="1361,180,1427,205"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="1498,940,1604,965"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph.png" border="0" usemap="#kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph" alt=""/></div>
<map name="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph" id="kernel_2console_8c_aae4ab8b56862ed0a04505cafb8a05112_icgraph">
<area shape="rect" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1211,107,1269,132"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="709,455,807,480"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="952,107,991,132"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="948,5,994,31"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="1112,1181,1163,1207"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="942,2357,1000,2383"/>
<area shape="rect" href="tests_8h.html#a81252bca9c5649cd9bfe7801959c1c2e" title="Runs the test named NAME." alt="" coords="723,57,793,83"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="547,507,619,532"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="697,1056,820,1081"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="539,1031,628,1056"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="347,1031,474,1056"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="686,955,830,980"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="929,1157,1014,1183"/>
<area shape="rect" href="block_8h.html#af1e8b4db376000c3c1824b19a3984fbb" title="Statistics." alt="" coords="911,1207,1032,1232"/>
<area shape="rect" href="block_8h.html#ab23e50178419646d6627f02eaaf76b4c" title="devices/block.h" alt="" coords="706,1359,810,1384"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="528,1409,638,1435"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="341,1435,480,1460"/>
<area shape="rect" href="partition_8h.html#a4fdb0ebb310a02d435b287dd185a6daa" title="devices/partition.h" alt="" coords="189,1435,293,1460"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="5,1333,141,1359"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="941,1561,1001,1587"/>
<area shape="rect" href="console_8h.html#a0535ab189f0f409b481df0df4a4e460b" title="lib/kernel/console.h" alt="" coords="903,1611,1039,1636"/>
<area shape="rect" href="debug_8h.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="909,455,1033,480"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="931,1660,1012,1685"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="935,904,1007,929"/>
<area shape="rect" href="exception_8h.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="userprog/exception.h" alt="" coords="898,1709,1045,1735"/>
<area shape="rect" href="fsutil_8h.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="filesys/fsutil.h" alt="" coords="921,1759,1022,1784"/>
<area shape="rect" href="fsutil_8h.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="721,1835,795,1860"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="923,1909,1019,1935"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="938,1959,1004,1984"/>
<area shape="rect" href="fsutil_8h.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="935,2008,1007,2033"/>
<area shape="rect" href="stdio_8h.html#a9d2d9f885841adf2d7ca5186519a9c5e" title="Nonstandard functions." alt="" coords="929,1860,1013,1885"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="936,2057,1007,2083"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="910,2107,1032,2132"/>
<area shape="rect" href="interrupt_8h.html#a68b7d22b2fe6b159e8196d6c2cb35dea" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="910,2259,1032,2284"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="739,2208,777,2233"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="541,2183,625,2208"/>
<area shape="rect" href="kbd_8h.html#ab7e600f1f09328e0f6e6e2052cd64181" title="devices/kbd.h" alt="" coords="915,2308,1027,2333"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="941,257,1001,283"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="948,307,994,332"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="946,356,996,381"/>
<area shape="rect" href="tests_8h.html#a660b914e4f3ad8cb93d763839e89ff6d" title="tests/threads/tests.h" alt="" coords="946,405,996,431"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="717,183,799,208"/>
<area shape="rect" href="stdio_8h.html#aad0164b705303d03578895ae938e07ba" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="878,1308,1064,1333"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="913,504,1029,529"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="900,208,1042,233"/>
<area shape="rect" href="synch_8h.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="916,553,1027,579"/>
<area shape="rect" href="shutdown_8h.html#a5a3f691cafea75080890d3c921840da7" title="devices/shutdown.h" alt="" coords="899,603,1043,628"/>
<area shape="rect" href="shutdown_8h.html#aad6518493e9cbf5e4fefaa28934c22f2" title="Reboots the machine via the keyboard controller." alt="" coords="909,652,1033,677"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="915,701,1028,727"/>
<area shape="rect" href="tests_2internal_2list_8c.html#a708a4c1a4d0c4acc4c447310dd4db27f" title="Test the linked list implementation." alt="" coords="950,803,993,828"/>
</map>
</div>

</div>
</div>
<a id="ada83ac3a119c57c68d54ab7a5c805de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada83ac3a119c57c68d54ab7a5c805de3">&#9670;&nbsp;</a></span>vprintf_helper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vprintf_helper </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>char_cnt_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a>. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00174">174</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">References <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00126">vprintf()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph.png" border="0" usemap="#kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph" alt=""/></div>
<map name="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph" id="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_cgraph">
<area shape="rect" title="Helper function for vprintf()." alt="" coords="5,824,107,849"/>
<area shape="rect" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port." alt="" coords="155,824,289,849"/>
<area shape="rect" href="kernel_2console_8c.html#ac9311ca129f215c0c8c07cd095a72f2f" title="Returns true if the current thread has the console lock, false otherwise." alt="" coords="624,16,808,54"/>
<area shape="rect" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port." alt="" coords="337,824,423,849"/>
<area shape="rect" href="vga_8c.html#a39f191e69844ad1aca267e74223651bd" title="Writes C to the VGA text display, interpreting control characters in the conventional ways." alt="" coords="342,1634,417,1660"/>
<area shape="rect" href="interrupt_8c.html#ab253c940fea3774ac64e8c53b05a57a2" title="Returns true during processing of an external interrupt and false at all other times." alt="" coords="1389,185,1479,210"/>
<area shape="rect" href="synch_8c.html#a3564cf7ad3b72bee0dd6cdd211ccd666" title="Returns true if the current thread holds LOCK, false otherwise." alt="" coords="858,229,1006,268"/>
<area shape="rect" href="thread_8c.html#a13774a29a2abd2f197ceb07815f2a6ff" title="Returns the running thread." alt="" coords="1056,190,1164,216"/>
<area shape="rect" href="thread_8c.html#a85274904406e17925db793a7603f9c49" title="Initializes the threading system by transforming the code that&#39;s currently running into a thread." alt="" coords="1232,190,1308,216"/>
<area shape="rect" href="thread_8c.html#a42e628208d70ba10d79c26d902b60650" title="Returns the running thread." alt="" coords="1214,342,1325,368"/>
<area shape="rect" href="vaddr_8h.html#a5a07aa5a4d70694db19884626f4b0fa3" title="Round down to nearest page boundary." alt="" coords="1375,342,1492,368"/>
<area shape="rect" href="serial_8c.html#aa1fb82a5be4690023966ea841c88a624" title="Initializes the serial port device for polling mode." alt="" coords="683,1185,749,1210"/>
<area shape="rect" href="intq_8c.html#aff4db6a96c4a1fb6898f26451a1049c2" title="Returns true if Q is full, false otherwise." alt="" coords="898,646,966,672"/>
<area shape="rect" href="intq_8c.html#a45ba970f3357ff262d7fafecc50735c6" title="Removes a byte from Q and returns it." alt="" coords="486,294,561,320"/>
<area shape="rect" href="interrupt_8c.html#abb2fa56d0ab9adc628c697b6190430c3" title="Disables interrupts and returns the previous interrupt status." alt="" coords="1225,925,1314,950"/>
<area shape="rect" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status." alt="" coords="1060,925,1160,950"/>
<area shape="rect" href="intq_8c.html#a6a440110d5417c12cedf1c2e86f445f8" title="Adds BYTE to the end of Q." alt="" coords="486,444,561,469"/>
<area shape="rect" href="serial_8c.html#a15fd75cc421e6379650204e80853a68a" title="Polls the serial port until it&#39;s ready, and then transmits BYTE." alt="" coords="895,1558,969,1584"/>
<area shape="rect" href="serial_8c.html#ac89212325aed0ffe38beb0b4bde0bf30" title="Update interrupt enable register." alt="" coords="488,798,559,824"/>
<area shape="rect" href="intq_8c.html#a74912dc0f8bf3b5cfeecab5630ed3f89" title="Initializes interrupt queue Q." alt="" coords="898,1001,966,1026"/>
<area shape="rect" href="io_8h.html#a903c588b94e0e8386c8a6f8caa4a5a72" title="Writes byte DATA to PORT." alt="" coords="1086,1280,1134,1305"/>
<area shape="rect" href="serial_8c.html#aedccb1dc6702ff87426404495a2a05ea" title="Configures the serial port for BPS bits per second." alt="" coords="893,1254,971,1280"/>
<area shape="rect" href="synch_8c.html#aa760472aa4916bba476b2165ea25b411" title="Initializes LOCK." alt="" coords="1075,1001,1145,1026"/>
<area shape="rect" href="interrupt_8c.html#ac657e1386ac8c557ddafbcc732427fbf" title="Returns the current interrupt status." alt="" coords="1384,697,1484,722"/>
<area shape="rect" href="intq_8c.html#ac473f50d2829cba1321d34a57c425042" title="Returns the position after POS within an intq." alt="" coords="1087,596,1133,621"/>
<area shape="rect" href="intq_8c.html#a34e623157a6c4f53ae29eda5d65b7395" title="Returns true if Q is empty, false otherwise." alt="" coords="673,545,759,570"/>
<area shape="rect" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary." alt="" coords="668,142,764,168"/>
<area shape="rect" href="synch_8c.html#a0616a97ad47869923552432c218f068a" title="Releases LOCK, which must be owned by the current thread." alt="" coords="668,344,764,369"/>
<area shape="rect" href="intq_8c.html#addd2664c1fa7444e1467b99e41e7192b" title=" " alt="" coords="688,294,744,320"/>
<area shape="rect" href="intq_8c.html#a1690435c2169d69bc5a17af78d67eb5f" title=" " alt="" coords="694,393,739,418"/>
<area shape="rect" href="synch_8c.html#ae10ded72d3b93a832b7107566f09286c" title="Down or &quot;P&quot; operation on a semaphore." alt="" coords="885,292,979,317"/>
<area shape="rect" href="interrupt_8c.html#a5a896b58d69d8d5ffa7b738c31b924d1" title="Enables interrupts and returns the previous interrupt status." alt="" coords="1226,596,1313,621"/>
<area shape="rect" href="synch_8c.html#a6da4176e1c419bd4467b181c66b077da" title="Up or &quot;V&quot; operation on a semaphore." alt="" coords="894,798,970,824"/>
<area shape="rect" href="io_8h.html#a0223c8898dfec29069879dc51076e28a" title="Reads and returns a byte from PORT." alt="" coords="1090,1482,1129,1508"/>
<area shape="rect" href="input_8c.html#a60ec5bbf4a98fbdb4fae3124870ef055" title="Returns true if the input buffer is full, false otherwise." alt="" coords="679,748,754,773"/>
<area shape="rect" href="vga_8c.html#a45d8235ab0187a7c0391d0c749317856" title="Clears the screen and moves the cursor to the upper left." alt="" coords="504,1812,543,1837"/>
<area shape="rect" href="vga_8c.html#ac16dc5267953b78624e2ed568776a04b" title="Moves the hardware cursor to (cx,cy)." alt="" coords="667,1812,765,1837"/>
<area shape="rect" href="vga_8c.html#a17fb021b480a1f220d2579807fa2e398" title="Initializes the VGA text display." alt="" coords="697,1709,736,1734"/>
<area shape="rect" href="vga_8c.html#abc92c781510c5f99670802f3c65ebb01" title="Advances the cursor to the first column in the next line on the screen." alt="" coords="490,1861,557,1886"/>
<area shape="rect" href="speaker_8c.html#a1326dce269503d1ba9fac4e40cdf453e" title="Briefly beep the PC speaker." alt="" coords="471,1558,576,1584"/>
<area shape="rect" href="vga_8c.html#a45e9968eec2281219a9fdb355c77930e" title="Clears row Y to spaces." alt="" coords="677,1861,756,1886"/>
<area shape="rect" href="io_8h.html#a1b48739bd493432acaca70a8d4e103cb" title="Writes the 16&#45;bit DATA to PORT." alt="" coords="907,1812,957,1837"/>
<area shape="rect" href="vga_8c.html#a9b860c306805e85629292c4ab39f0b14" title="Reads the current hardware cursor position into (*X,*Y)." alt="" coords="888,1457,976,1482"/>
<area shape="rect" href="vaddr_8h.html#a4887c2b8a39b091ef5b3eb7465bcc8f7" title="Returns kernel virtual address at which physical address PADDR is mapped." alt="" coords="909,1710,955,1736"/>
<area shape="rect" href="string_8c.html#a0af8a99685feb8d49d933589d20268fd" title="Copies SIZE bytes from SRC to DST, which are allowed to overlap." alt="" coords="674,1910,758,1936"/>
<area shape="rect" href="speaker_8c.html#a073f7570ba87d9cbf510616817c60b41" title="Turn off the PC speaker, by disconnecting the timer channel&#39;s output from the speaker." alt="" coords="887,1356,977,1381"/>
<area shape="rect" href="speaker_8c.html#a7ae6bbf92a40862ee9523cd43e69f925" title="Sets the PC speaker to emit a tone at the given FREQUENCY, in Hz." alt="" coords="671,1356,762,1381"/>
<area shape="rect" href="timer_8c.html#a10cbeaa00e0ceb825ddd7a44724881c6" title="Sleeps for approximately MS milliseconds." alt="" coords="666,1660,767,1685"/>
<area shape="rect" href="pit_8c.html#a7dd39bb359cbd638f9134488ab47db4c" title="Configure the given CHANNEL in the PIT." alt="" coords="856,1102,1008,1128"/>
<area shape="rect" href="timer_8c.html#a9bd10eb80561359273e022f4c80b483f" title="Sleep for approximately NUM/DENOM seconds." alt="" coords="1212,1660,1327,1685"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph.png" border="0" usemap="#kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph" alt=""/></div>
<map name="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph" id="kernel_2console_8c_ada83ac3a119c57c68d54ab7a5c805de3_icgraph">
<area shape="rect" title="Helper function for vprintf()." alt="" coords="1317,107,1419,132"/>
<area shape="rect" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list." alt="" coords="1211,107,1269,132"/>
<area shape="rect" href="kernel_2debug_8c.html#a0dba4a46c338129ae12e314e07e9fbe3" title="Halts the OS, printing the source file name, line number, and function name, plus a user&#45;specific mes..." alt="" coords="709,456,807,481"/>
<area shape="rect" href="tests_8c.html#a7380daad7085b08d0e037abc3136dccd" title="Prints failure message FORMAT as if with printf(), prefixing the output by the name of the test and F..." alt="" coords="952,107,991,132"/>
<area shape="rect" href="tests_8c.html#a9f5464c3d546d12524ce3cfb8694e682" title="Prints FORMAT as if with printf(), prefixing the output by the name of the test and following it with..." alt="" coords="948,5,994,31"/>
<area shape="rect" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console." alt="" coords="1112,1157,1163,1183"/>
<area shape="rect" href="insult_8c.html#a727c30b9bfdf10e2f075dfb927e443b7" title=" " alt="" coords="942,2309,1000,2335"/>
<area shape="rect" href="tests_8h.html#a81252bca9c5649cd9bfe7801959c1c2e" title="Runs the test named NAME." alt="" coords="723,56,793,81"/>
<area shape="rect" href="init_8c.html#aff4f7abdb534106a4f1e2c2581713271" title="Runs the task specified in ARGV[1]." alt="" coords="547,505,619,531"/>
<area shape="rect" href="tar_8c.html#a11d3fc4ba0c33158e98b91bd973212f9" title=" " alt="" coords="697,1056,820,1081"/>
<area shape="rect" href="tar_8c.html#a736a422fc49cb04f6601997fb136c19c" title=" " alt="" coords="539,1031,628,1056"/>
<area shape="rect" href="tar_8c.html#a5758c0d6627e2210b6e18ec360169e91" title=" " alt="" coords="347,1031,474,1056"/>
<area shape="rect" href="tar_8c.html#a95557238bd1ce1ece7c3859eff9888dc" title=" " alt="" coords="686,955,830,980"/>
<area shape="rect" href="shell_8c.html#a0abb03c13300144f4e7c50807e31ca3a" title="If *POS is past the beginning of LINE, backs up one character position." alt="" coords="929,1157,1014,1183"/>
<area shape="rect" href="block_8h.html#af1e8b4db376000c3c1824b19a3984fbb" title="Statistics." alt="" coords="911,1207,1032,1232"/>
<area shape="rect" href="block_8h.html#ab23e50178419646d6627f02eaaf76b4c" title="devices/block.h" alt="" coords="706,1359,810,1384"/>
<area shape="rect" href="partition_8c.html#a80cdac8263b0ada84abe4ddf0adb8614" title="We have found a primary or logical partition of the given TYPE on BLOCK, starting at sector START and..." alt="" coords="528,1409,638,1435"/>
<area shape="rect" href="partition_8c.html#a5723d235ee99ff5ebd79a4db49236237" title="Reads the partition table in the given SECTOR of BLOCK and scans it for partitions of interest to Pin..." alt="" coords="341,1435,480,1460"/>
<area shape="rect" href="partition_8h.html#a4fdb0ebb310a02d435b287dd185a6daa" title="devices/partition.h" alt="" coords="189,1435,293,1460"/>
<area shape="rect" href="ide_8c.html#afcd1cfa04037980c000c94c826517759" title="Sends an IDENTIFY DEVICE command to disk D and reads the response." alt="" coords="5,1333,141,1359"/>
<area shape="rect" href="tests_2internal_2stdio_8c.html#add606a71d9f818f09ede48c54a3b7c1f" title=" " alt="" coords="941,1561,1001,1587"/>
<area shape="rect" href="console_8h.html#a0535ab189f0f409b481df0df4a4e460b" title="lib/kernel/console.h" alt="" coords="903,1611,1039,1636"/>
<area shape="rect" href="debug_8h.html#a48a47644097877a8b22a70951445524d" title="Prints the call stack, that is, a list of addresses, one in each of the functions we are nested withi..." alt="" coords="909,556,1033,581"/>
<area shape="rect" href="filesys_8c.html#a2710836971ed586925cb1c55850bf955" title="Formats the file system." alt="" coords="931,1660,1012,1685"/>
<area shape="rect" href="tar_8c.html#aed54c3c43e1f39c75bd51bf2b7107c6b" title=" " alt="" coords="935,904,1007,929"/>
<area shape="rect" href="exception_8h.html#a3b29f840ff063cfddd9970ca12bbdc8d" title="userprog/exception.h" alt="" coords="898,1709,1045,1735"/>
<area shape="rect" href="fsutil_8h.html#a5e71854d868a26c3f243d4d3e4b1ef82" title="filesys/fsutil.h" alt="" coords="921,1759,1022,1784"/>
<area shape="rect" href="fsutil_8h.html#a45adb8f359bde7b04c52bae5421811e0" title="Prints the contents of file ARGV[1] to the system console as hex and ASCII." alt="" coords="721,1833,795,1859"/>
<area shape="rect" href="fsutil_8c.html#a645c7bbd9ea64199eed695ec3b2bd26b" title="Extracts a ustar&#45;format tar archive from the scratch block device into the Pintos file system." alt="" coords="923,1909,1019,1935"/>
<area shape="rect" href="fsutil_8c.html#a50cc451070af8d6fd949d2975b5f588d" title="List files in the root directory." alt="" coords="938,1959,1004,1984"/>
<area shape="rect" href="fsutil_8h.html#abd1a295d2e6c91da47f137c863a26b97" title="Deletes file ARGV[1]." alt="" coords="935,2008,1007,2033"/>
<area shape="rect" href="stdio_8h.html#a9d2d9f885841adf2d7ca5186519a9c5e" title="Nonstandard functions." alt="" coords="929,1808,1013,1833"/>
<area shape="rect" href="palloc_8c.html#ae93da2ef876a9e957a6245fa2bd68a1f" title="Initializes pool P as starting at START and ending at END, naming it NAME for debugging purposes." alt="" coords="936,2057,1007,2083"/>
<area shape="rect" href="ide_8c.html#a968e89e258918c93a81618744b6c0e35" title="ATA interrupt handler." alt="" coords="910,2107,1032,2132"/>
<area shape="rect" href="interrupt_8h.html#a68b7d22b2fe6b159e8196d6c2cb35dea" title="Dumps interrupt frame F to the console, for debugging." alt="" coords="910,2208,1032,2233"/>
<area shape="rect" href="exception_8c.html#a6984b10e1d2a817938f8e70a89d13ff9" title="Handler for an exception (probably) caused by a user process." alt="" coords="739,2208,777,2233"/>
<area shape="rect" href="exception_8c.html#a22263f7481f54fafb7a06f63ea1675c3" title="Page fault handler." alt="" coords="541,2183,625,2208"/>
<area shape="rect" href="kbd_8h.html#ab7e600f1f09328e0f6e6e2052cd64181" title="devices/kbd.h" alt="" coords="915,257,1027,283"/>
<area shape="rect" href="ls_8c.html#a003d186b646e107c840ee66ad3d2fd1d" title="ls.c" alt="" coords="941,307,1001,332"/>
<area shape="rect" href="process_8c.html#af761b81ad417b7194e0132e23abe2cb4" title="Loads an ELF executable from FILE_NAME into the current thread." alt="" coords="948,356,994,381"/>
<area shape="rect" href="bubsort_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="946,405,996,431"/>
<area shape="rect" href="tests_8h.html#a660b914e4f3ad8cb93d763839e89ff6d" title="tests/threads/tests.h" alt="" coords="946,507,996,532"/>
<area shape="rect" href="init_8c.html#a597a4e36419870df906ed14699bf47c7" title="Pintos main entry point." alt="" coords="717,181,799,207"/>
<area shape="rect" href="stdio_8h.html#aad0164b705303d03578895ae938e07ba" title="Prints SIZE, which represents a number of bytes, in a human&#45;readable format, e.g." alt="" coords="878,1308,1064,1333"/>
<area shape="rect" href="kernel_2debug_8c.html#a365e894fc9160db88206cb2eda82215f" title="Print call stack of a thread." alt="" coords="913,605,1029,631"/>
<area shape="rect" href="init_8c.html#ae58b8c3dee90e04a151d5f9ee45799c5" title="Breaks the kernel command line into words and returns them as an argv&#45;like array." alt="" coords="900,156,1042,181"/>
<area shape="rect" href="synch_8h.html#ac007e29a5442996a099aa8172f5e046a" title="Self&#45;test for semaphores that makes control &quot;ping&#45;pong&quot; between a pair of threads." alt="" coords="916,655,1027,680"/>
<area shape="rect" href="shutdown_8h.html#a5a3f691cafea75080890d3c921840da7" title="devices/shutdown.h" alt="" coords="899,704,1043,729"/>
<area shape="rect" href="shutdown_8h.html#aad6518493e9cbf5e4fefaa28934c22f2" title="Reboots the machine via the keyboard controller." alt="" coords="909,753,1033,779"/>
<area shape="rect" href="userprog_2syscall_8c.html#a433a22b69ff6c6b56fe2bd9214c2ecc9" title=" " alt="" coords="915,803,1028,828"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7fb5294408703b8fe8fd28fade1c7e97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb5294408703b8fe8fd28fade1c7e97">&#9670;&nbsp;</a></span>console_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structlock.html">lock</a> console_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The console lock. </p>
<p>Both the vga and serial layers do their own locking, so it's safe to call them at any time. But this lock is useful to prevent simultaneous <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> calls from mixing their output, which looks confusing. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00018">18</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00064">console_init()</a>, <a class="el" href="kernel_2console_8c_source.html#l00115">console_locked_by_current_thread()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>

</div>
</div>
<a id="a7b4ae2e6366de8f8f54ff63baed8efef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4ae2e6366de8f8f54ff63baed8efef">&#9670;&nbsp;</a></span>console_lock_depth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int console_lock_depth</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It's possible, if you add enough debug output to Pintos, to try to recursively grab console_lock from a single thread. </p>
<p>As a real example, I added a <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> call to palloc_free(). Here's a real backtrace that resulted:</p>
<p>lock_console() <a class="el" href="kernel_2console_8c.html#aae4ab8b56862ed0a04505cafb8a05112" title="The standard vprintf() function, which is like printf() but uses a va_list.">vprintf()</a> <a class="el" href="lib_2stdio_8c.html#a98631211a4a8aee62f572375d5b637be" title="Writes formatted output to the console.">printf()</a> - palloc() tries to grab the lock again palloc_free() <br  />
 <a class="el" href="thread_8c.html#acbbd25908c41e62d44a179cfbc3962e2" title="Completes a thread switch by activating the new thread&#39;s page tables, and, if the previous thread is ...">thread_schedule_tail()</a> - another thread dying as we switch threads <a class="el" href="thread_8c.html#a63e3ec45b7bf0028e55f2b9ab1603306" title="Schedules a new process.">schedule()</a> <a class="el" href="thread_8c.html#aaa9229e0f462f60bb9550919fa3d7699" title="Yields the CPU.">thread_yield()</a> <a class="el" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers.">intr_handler()</a> - timer interrupt <a class="el" href="interrupt_8c.html#ae3ae93a45d368c3d64fd0b473bd303d0" title="Enables or disables interrupts as specified by LEVEL and returns the previous interrupt status.">intr_set_level()</a> <a class="el" href="serial_8c.html#a07c75f3160eed07281583bfaf8eddc1b" title="Sends BYTE to the serial port.">serial_putc()</a> <a class="el" href="kernel_2console_8c.html#a5d98987075545c56db87c51597a04bdd" title="Writes C to the vga display and serial port.">putchar_have_lock()</a> <a class="el" href="kernel_2console_8c.html#a6912abfdc7e2b2345da944f82cb8305b" title="Writes the N characters in BUFFER to the console.">putbuf()</a> sys_write() - one process writing to the console <a class="el" href="userprog_2syscall_8c.html#a0677570f8106abb0eea0902bda5b6a41">syscall_handler()</a> <a class="el" href="interrupt_8c.html#ad2ddb6c69915597ee636e732afa5795a" title="Interrupt handlers.">intr_handler()</a></p>
<p>This kind of thing is very difficult to debug, so we avoid the problem by simulating a recursive lock with a depth counter. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00057">57</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>

</div>
</div>
<a id="a11b18e6072b6f8c7e909b2cd99ed0baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b18e6072b6f8c7e909b2cd99ed0baf">&#9670;&nbsp;</a></span>use_console_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> use_console_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True in ordinary circumstances: we want to use the console lock to avoid mixing output between threads, as explained above. </p>
<p>False in early boot before the point that locks are functional or the console lock has been initialized, or after a kernel panics. In the former case, taking the lock would cause an assertion failure, which in turn would cause a panic, turning it into the latter case. In the latter case, if it is a buggy <a class="el" href="synch_8c.html#aa9021f4c36b4b177c557e0ed8967d048" title="Acquires LOCK, sleeping until it becomes available if necessary.">lock_acquire()</a> implementation that caused the panic, we'll likely just recurse. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00031">31</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00088">acquire_console()</a>, <a class="el" href="kernel_2console_8c_source.html#l00064">console_init()</a>, <a class="el" href="kernel_2console_8c_source.html#l00115">console_locked_by_current_thread()</a>, <a class="el" href="kernel_2console_8c_source.html#l00074">console_panic()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00101">release_console()</a>.</p>

</div>
</div>
<a id="aacc7814fee36c7b7b592b43533653435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc7814fee36c7b7b592b43533653435">&#9670;&nbsp;</a></span>write_cnt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a831d6234342279926bb11bad3a37add9">int64_t</a> write_cnt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of characters written to console. </p>

<p class="definition">Definition at line <a class="el" href="kernel_2console_8c_source.html#l00060">60</a> of file <a class="el" href="kernel_2console_8c_source.html">console.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="kernel_2console_8c_source.html#l00081">console_print_stats()</a>, and <a class="el" href="kernel_2console_8c_source.html#l00185">putchar_have_lock()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 22 2019 10:19:17 for CS318 - Pintos by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
